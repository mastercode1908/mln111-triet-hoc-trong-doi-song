<!DOCTYPE html>
<html lang="vi" class="light">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz 1: Thế giới quan & Vật chất - Ý thức | PhiloMap</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Noto+Sans:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#308ce8",
                        "primary-dark": "#1a6bb8",
                        "background-light": "#f8f9fa",
                        "background-dark": "#111921",
                        "success": "#10b981",
                        "error": "#ef4444",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"],
                        "serif": ["Lora", "serif"],
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Lexend', sans-serif;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .material-symbols-outlined.filled {
            font-variation-settings: 'FILL' 1;
        }

        /* Custom Radio Button Styling */
        input[type="radio"]:checked+div {
            border-color: #308ce8;
            background-color: #eff6ff;
        }

        input[type="radio"]:checked+div .radio-circle {
            background-color: #308ce8;
            border-color: #308ce8;
        }

        input[type="radio"]:checked+div .radio-circle::after {
            opacity: 1;
            transform: scale(1);
        }

        /* Quiz States */
        .correct-answer {
            border-color: #10b981 !important;
            background-color: #ecfdf5 !important;
        }

        .wrong-answer {
            border-color: #ef4444 !important;
            background-color: #fef2f2 !important;
        }

        .correct-icon,
        .wrong-icon {
            display: none;
        }

        .correct-answer .correct-icon {
            display: block;
        }

        .wrong-answer .wrong-icon {
            display: block;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-slate-800 dark:text-gray-200 min-h-screen flex flex-col">
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <main class="flex-grow w-full max-w-4xl mx-auto px-4 py-10">
        <!-- Breadcrumb -->
        <div class="mb-6">
            <div
                class="inline-flex items-center px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 dark:bg-blue-900/20 dark:border-blue-800 text-primary text-xs font-bold uppercase tracking-wider gap-2">
                <a href="home.html" class="hover:underline hover:text-blue-600 transition-colors">TRANG CHỦ</a>
                <span class="opacity-60">/</span>
                <a href="practice.html" class="hover:underline hover:text-blue-600 transition-colors">THỰC HÀNH</a>
                <span class="opacity-60">/</span>
                <span>QUIZ 1</span>
            </div>
        </div>
        <!-- Quiz Intro -->
        <div class="text-center mb-10" id="quiz-intro">
            <h1 class="text-3xl md:text-4xl font-serif font-bold text-slate-900 dark:text-white mb-4">
                Kiểm tra " Cặp Kính " nhìn đời của bạn
            </h1>
            <p class="text-lg text-slate-600 dark:text-gray-400 max-w-2xl mx-auto">
                Chủ đề: Thế giới quan & Mối quan hệ Vật chất - Ý thức. <br>
                Hãy chọn đáp án đúng nhất cho 7 câu hỏi dưới đây.
            </p>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="space-y-8">
            <!-- Questions will be injected here by JS -->
        </div>

        <!-- Submit Action -->
        <div class="mt-12 flex justify-center pb-20">
            <button onclick="submitQuiz()" id="submit-btn"
                class="px-8 py-3 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1">
                Nộp bài & Xem kết quả
            </button>
            <div id="result-actions" class="hidden flex gap-4">
                <button onclick="location.reload()"
                    class="px-6 py-3 border border-gray-300 hover:bg-gray-50 text-slate-700 font-bold rounded-xl transition-colors">
                    Làm lại
                </button>
                <a href="practice.html"
                    class="px-6 py-3 bg-slate-800 hover:bg-slate-900 text-white font-bold rounded-xl transition-colors">
                    Quay về Thực hành
                </a>
            </div>
        </div>

        <!-- Score Modal (Hidden initially) -->
        <div id="score-modal"
            class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm opacity-0 transition-opacity duration-300">
            <div
                class="bg-white dark:bg-gray-800 rounded-3xl p-8 max-w-md w-full shadow-2xl transform scale-90 transition-transform duration-300">
                <div class="text-center">
                    <div
                        class="size-20 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-primary">
                        <span class="material-symbols-outlined text-4xl">emoji_events</span>
                    </div>
                    <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Kết quả của bạn</h2>
                    <div class="text-5xl font-black text-primary mb-4" id="final-score">0/7</div>
                    <p class="text-slate-600 dark:text-gray-400 mb-8" id="feedback-text">Hãy xem lại các câu sai để hiểu
                        rõ hơn nhé!</p>
                    <button onclick="closeModal()"
                        class="w-full py-3 bg-primary text-white font-bold rounded-xl hover:bg-primary-dark transition-colors">
                        Xem chi tiết đán án
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="js/load-components.js"></script>
    <script>
        const quizData = [
            {
                id: 1,
                question: "Theo quan điểm của Triết học Mác - Lênin, vai trò của triết học trong thế giới quan là gì?",
                options: [
                    "A. Là toàn bộ tình cảm và niềm tin của con người.",
                    "B. Là hạt nhân lý luận của thế giới quan.",
                    "C. Là sự thay thế cho các khoa học cụ thể.",
                    "D. Là niềm tin tôn giáo về thế giới."
                ],
                correct: 1, // Index of B
                explanation: "Triết học không phải là toàn bộ thế giới quan mà là phần cốt lõi, phần lý thuyết của nó. Triết học chi phối mọi thế giới quan. (Nguồn: Chương 1, Mục I, 1.d)"
            },
            {
                id: 2,
                question: "Ph. Ăngghen định nghĩa \"Vấn đề cơ bản lớn của mọi triết học\" là vấn đề gì?",
                options: [
                    "A. Vấn đề về nguồn gốc loài người.",
                    "B. Vấn đề quan hệ giữa tư duy với tồn tại (giữa ý thức và vật chất).",
                    "C. Vấn đề làm thế nào để sống hạnh phúc.",
                    "D. Vấn đề thiện và ác."
                ],
                correct: 1, // Index of B
                explanation: "Trước khi giải quyết các vấn đề cụ thể, mọi hệ thống triết học đều phải trả lời câu hỏi nền tảng: Vật chất hay Ý thức có trước? (Nguồn: Chương 1, Mục I, 2.a)"
            },
            {
                id: 3,
                question: "Một người tin rằng: \"Mọi việc thành hay bại trong đời là do 'số trời' hoặc do một lực lượng siêu nhiên sắp đặt, con người không thể thay đổi\". Quan điểm này thuộc trường phái triết học nào?",
                options: [
                    "A. Chủ nghĩa duy vật biện chứng.",
                    "B. Chủ nghĩa duy vật siêu hình.",
                    "C. Chủ nghĩa duy tâm khách quan.",
                    "D. Chủ nghĩa duy tâm chủ quan."
                ],
                correct: 2, // Index of C
                explanation: "Người này tin vào một lực lượng tinh thần khách quan (số trời, thượng đế) có trước và quyết định thế giới vật chất. (Nguồn: Chương 1, Mục I, 2.b)"
            },
            {
                id: 4,
                question: "Theo định nghĩa của V.I. Lênin, thuộc tính chung nhất và quan trọng nhất của \"Vật chất\" là gì?",
                options: [
                    "A. Là nguyên tử.",
                    "B. Là khối lượng và năng lượng.",
                    "C. Là thực tại khách quan (tồn tại bên ngoài ý thức).",
                    "D. Là những vật thể sờ, nắm được."
                ],
                correct: 2, // Index of C
                explanation: "Vật chất không chỉ là cái bàn, cái ghế cụ thể, mà là tất cả những gì tồn tại thực sự bên ngoài suy nghĩ của chúng ta. (Nguồn: Chương 2, Mục I, 1.c)"
            },
            {
                id: 5,
                question: "Tại sao cùng một sự việc (ví dụ: trời mưa), nhưng người nông dân thì vui mừng, còn người đi du lịch lại buồn bã? Điều này thể hiện bản chất gì của Ý thức?",
                options: [
                    "A. Ý thức là sự sao chép y nguyên thế giới khách quan.",
                    "B. Ý thức là hình ảnh chủ quan của thế giới khách quan.",
                    "C. Ý thức là do thần linh mách bảo.",
                    "D. Ý thức không phụ thuộc vào thực tế."
                ],
                correct: 1, // Index of B
                explanation: "Sự việc (trời mưa) là khách quan, nhưng suy nghĩ/cảm xúc (vui hay buồn) là hình ảnh riêng trong đầu mỗi người (chủ quan) tùy thuộc vào nhu cầu và hoàn cảnh của họ. (Nguồn: Chương 2, Mục I, 2.b)"
            },
            {
                id: 6,
                question: "Để định vị bản thân và hành động thành công, Triết học Mác - Lênin khuyên chúng ta tuân thủ nguyên tắc nào?",
                options: [
                    "A. Chỉ cần có quyết tâm (Ý thức), mọi hoàn cảnh (Vật chất) sẽ thay đổi.",
                    "B. Chấp nhận hoàn cảnh (Vật chất), không cần cố gắng vì số phận đã an bài.",
                    "C. Tôn trọng tính khách quan kết hợp với phát huy tính năng động chủ quan.",
                    "D. Phủ nhận vai trò của vật chất, đề cao tuyệt đối vai trò của ý chí."
                ],
                correct: 2, // Index of C
                explanation: "Đây là nguyên tắc vàng để hành động. Phải nhìn thẳng vào sự thật (tài chính, năng lực - tôn trọng khách quan) nhưng phải dùng trí tuệ và ý chí để cải tạo nó (phát huy chủ quan). (Nguồn: Chương 2, Mục I, 3.b)"
            },
            {
                id: 7,
                question: "(Tình huống) Bạn muốn khởi nghiệp nhưng không có vốn. Bạn chỉ ngồi nhà \"tưởng tượng\" mình giàu có mỗi ngày mà không đi làm hay học hỏi thêm. Theo triết học Mác - Lênin, tại sao cách này thất bại?",
                options: [
                    "A. Vì bạn chưa tưởng tượng đủ nhiều.",
                    "B. Vì ý thức không thể tác động trực tiếp lên vật chất mà phải thông qua hoạt động thực tiễn.",
                    "C. Vì vật chất không quyết định ý thức.",
                    "D. Vì ý thức không có tính độc lập tương đối."
                ],
                correct: 1, // Index of B
                explanation: "Suy nghĩ (Ý thức) muốn biến thành Tiền/Tài sản (Vật chất) thì bắt buộc con người phải hành động (lao động, kinh doanh). Nếu không làm, suy nghĩ mãi chỉ là ảo tưởng. (Nguồn: Chương 2, Mục I, 3.b)"
            }
        ];

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = quizData.map((item, index) => `
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 shadow-soft border border-gray-100 dark:border-gray-700 question-block" id="question-${index}">
                    <div class="flex items-start gap-4 mb-6">
                        <span class="flex-shrink-0 size-8 bg-blue-50 text-primary font-bold rounded-lg flex items-center justify-center text-sm">
                            ${index + 1}
                        </span>
                        <h3 class="text-lg font-bold text-slate-800 dark:text-white leading-relaxed pt-1">
                            ${item.question}
                        </h3>
                    </div>
                    <div class="space-y-3 pl-0 md:pl-12">
                        ${item.options.map((opt, optIndex) => `
                            <label class="cursor-pointer group block relative">
                                <input type="radio" name="q${index}" value="${optIndex}" class="peer sr-only">
                                <div class="p-4 rounded-xl border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all flex items-center gap-3">
                                    <div class="radio-circle w-5 h-5 rounded-full border-2 border-gray-300 dark:border-gray-500 relative flex items-center justify-center transition-colors">
                                        <div class="w-2.5 h-2.5 bg-white rounded-full opacity-0 transform scale-50 transition-all duration-200"></div>
                                    </div>
                                    <span class="text-slate-700 dark:text-gray-300 font-medium">${opt}</span>
                                    
                                    <!-- Icons for result -->
                                    <span class="material-symbols-outlined text-green-500 ml-auto correct-icon">check_circle</span>
                                    <span class="material-symbols-outlined text-red-500 ml-auto wrong-icon">cancel</span>
                                </div>
                            </label>
                        `).join('')}
                    </div>
                    <!-- Explanation (Hidden) -->
                    <div class="explanation hidden mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800">
                        <div class="flex items-start gap-3">
                            <span class="material-symbols-outlined text-primary mt-1">lightbulb</span>
                            <div>
                                <h4 class="font-bold text-primary text-sm uppercase mb-1">Giải thích chi tiết</h4>
                                <p class="text-sm text-slate-700 dark:text-gray-300 leading-relaxed">
                                    ${item.explanation}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function submitQuiz() {
            let score = 0;
            let answered = 0;

            quizData.forEach((item, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const questionBlock = document.getElementById(`question-${index}`);
                const explanation = questionBlock.querySelector('.explanation');
                const inputs = questionBlock.querySelectorAll(`input[name="q${index}"]`);

                // Disable inputs
                inputs.forEach(input => input.disabled = true);

                // Remove previous formatting
                questionBlock.querySelectorAll('label > div').forEach(div => {
                    div.classList.remove('correct-answer', 'wrong-answer');
                });

                if (selected) {
                    answered++;
                    const val = parseInt(selected.value);
                    const selectedDiv = selected.nextElementSibling;

                    if (val === item.correct) {
                        score++;
                        selectedDiv.classList.add('correct-answer');
                    } else {
                        selectedDiv.classList.add('wrong-answer');
                        // Highlight correct answer
                        const correctInput = questionBlock.querySelector(`input[value="${item.correct}"]`);
                        correctInput.nextElementSibling.classList.add('correct-answer');
                    }
                } else {
                    // If not answered, just highlight correct
                    const correctInput = questionBlock.querySelector(`input[value="${item.correct}"]`);
                    correctInput.nextElementSibling.classList.add('correct-answer');
                }

                // Show explanation
                explanation.classList.remove('hidden');
            });

            // Show Result
            const modal = document.getElementById('score-modal');
            const scoreDisplay = document.getElementById('final-score');
            const feedback = document.getElementById('feedback-text');
            const submitBtn = document.getElementById('submit-btn');
            const resultActions = document.getElementById('result-actions');

            scoreDisplay.innerText = `${score}/${quizData.length}`;

            if (score === quizData.length) {
                feedback.innerText = "Xuất sắc! Bạn đã nắm vững toàn bộ kiến thức!";
            } else if (score >= 5) {
                feedback.innerText = "Làm tốt lắm! Chỉ còn vài lỗi nhỏ thôi.";
            } else {
                feedback.innerText = "Cần cố gắng thêm nhé! Hãy xem lại kiến thức.";
            }

            // Animation
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modal.querySelector('div').classList.remove('scale-90', 'scale-100');
                modal.querySelector('div').classList.add('scale-100');
            }, 10);

            // Change button area
            submitBtn.classList.add('hidden');
            resultActions.classList.remove('hidden');

            // Scroll to top to see modal clearly
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function closeModal() {
            const modal = document.getElementById('score-modal');
            modal.classList.add('opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderQuiz);
    </script>
</body>

</html>