<!DOCTYPE html>
<html lang="vi" class="light">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz 5: Triết học về con người | PhiloMap</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Noto+Sans:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#308ce8",
                        "primary-dark": "#1a6bb8",
                        "background-light": "#f8f9fa",
                        "background-dark": "#111921",
                        "success": "#10b981",
                        "error": "#ef4444",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"],
                        "serif": ["Lora", "serif"],
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Lexend', sans-serif;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .material-symbols-outlined.filled {
            font-variation-settings: 'FILL' 1;
        }

        /* Custom Radio Button Styling */
        input[type="radio"]:checked+div {
            border-color: #308ce8;
            background-color: #eff6ff;
        }

        input[type="radio"]:checked+div .radio-circle {
            background-color: #308ce8;
            border-color: #308ce8;
        }

        input[type="radio"]:checked+div .radio-circle::after {
            opacity: 1;
            transform: scale(1);
        }

        /* Quiz States */
        .correct-answer {
            border-color: #10b981 !important;
            background-color: #ecfdf5 !important;
        }

        .wrong-answer {
            border-color: #ef4444 !important;
            background-color: #fef2f2 !important;
        }

        .correct-icon,
        .wrong-icon {
            display: none;
        }

        .correct-answer .correct-icon {
            display: block;
        }

        .wrong-answer .wrong-icon {
            display: block;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-slate-800 dark:text-gray-200 min-h-screen flex flex-col">
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <main class="flex-grow w-full max-w-4xl mx-auto px-4 py-10">
        <!-- Breadcrumb -->
        <div class="mb-6">
            <div
                class="inline-flex items-center px-4 py-1.5 rounded-full bg-rose-50 border border-rose-100 dark:bg-rose-900/20 dark:border-rose-800 text-rose-600 text-xs font-bold uppercase tracking-wider gap-2">
                <a href="home.html" class="hover:underline hover:text-rose-700 transition-colors">TRANG CHỦ</a>
                <span class="opacity-60">/</span>
                <a href="practice.html" class="hover:underline hover:text-rose-700 transition-colors">THỰC HÀNH</a>
                <span class="opacity-60">/</span>
                <span>QUIZ 5</span>
            </div>
        </div>
        <!-- Quiz Intro -->
        <div class="text-center mb-10" id="quiz-intro">
            <h1 class="text-3xl md:text-4xl font-serif font-bold text-slate-900 dark:text-white mb-4">
                Triết học Mác – Lênin về con người
            </h1>
            <p class="text-lg text-slate-600 dark:text-gray-400 max-w-2xl mx-auto">
                Bản chất, giải phóng và vai trò của con người trong lịch sử. <br>
                Hãy chọn đáp án đúng nhất cho 7 câu hỏi dưới đây.
            </p>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="space-y-8">
            <!-- Questions will be injected here by JS -->
        </div>

        <!-- Submit Action -->
        <div class="mt-12 flex justify-center pb-20">
            <button onclick="submitQuiz()" id="submit-btn"
                class="px-8 py-3 bg-rose-600 hover:bg-rose-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1">
                Nộp bài & Xem kết quả
            </button>
            <div id="result-actions" class="hidden flex gap-4">
                <button onclick="location.reload()"
                    class="px-6 py-3 border border-gray-300 hover:bg-gray-50 text-slate-700 font-bold rounded-xl transition-colors">
                    Làm lại
                </button>
                <a href="practice.html"
                    class="px-6 py-3 bg-slate-800 hover:bg-slate-900 text-white font-bold rounded-xl transition-colors">
                    Quay về Thực hành
                </a>
            </div>
        </div>

        <!-- Score Modal (Hidden initially) -->
        <div id="score-modal"
            class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm opacity-0 transition-opacity duration-300">
            <div
                class="bg-white dark:bg-gray-800 rounded-3xl p-8 max-w-md w-full shadow-2xl transform scale-90 transition-transform duration-300">
                <div class="text-center">
                    <div
                        class="size-20 bg-rose-50 dark:bg-rose-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-rose-600">
                        <span class="material-symbols-outlined text-4xl">emoji_events</span>
                    </div>
                    <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Kết quả của bạn</h2>
                    <div class="text-5xl font-black text-rose-600 mb-4" id="final-score">0/7</div>
                    <p class="text-slate-600 dark:text-gray-400 mb-8" id="feedback-text">Hãy xem lại các câu sai để hiểu
                        rõ hơn nhé!</p>
                    <button onclick="closeModal()"
                        class="w-full py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors">
                        Xem chi tiết đáp án
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="js/load-components.js"></script>
    <script>
        const quizData = [
            {
                id: 1,
                question: "Theo quan điểm của triết học Mác - Lênin, luận điểm nào sau đây xác định đúng nhất về bản chất con người?",
                options: [
                    "A. Con người là một thực thể sinh học có tư duy và ngôn ngữ.",
                    "B. Bản chất con người là thiện, do trời phú cho.",
                    "C. Trong tính hiện thực của nó, bản chất con người là tổng hòa những quan hệ xã hội.",
                    "D. Bản chất con người là sự thống nhất giữa linh hồn và thể xác."
                ],
                correct: 2, // Index of C
                explanation: "C. Mác phê phán quan niệm trừu tượng của Feuerbach và khẳng định bản chất con người không phải là cái gì trừu tượng, bẩm sinh hay bất biến bên trong cá nhân riêng biệt. Bản chất này được hình thành và quy định bởi các quan hệ xã hội cụ thể (kinh tế, chính trị, giai cấp, dân tộc...). Các quan hệ xã hội thay đổi thì bản chất con người cũng thay đổi. (Nguồn: Chương 3, Mục V, 1.đ)"
            },
            {
                id: 2,
                question: "Yếu tố quyết định nào khiến con người ngay từ đầu đã tự phân biệt mình với loài vật?",
                options: [
                    "A. Biết tư duy và có ngôn ngữ.",
                    "B. Biết sản xuất ra những tư liệu sinh hoạt của mình.",
                    "C. Biết sống thành bầy đàn có tổ chức.",
                    "D. Có đời sống tâm linh và tôn giáo."
                ],
                correct: 1, // Index of B
                explanation: "Mặc dù có thể phân biệt con người bằng ý thức hay tôn giáo, nhưng C. Mác và Ph. Ăngghen khẳng định: \"Bản thân con người bắt đầu bằng tự phân biệt với súc vật ngay khi con người bắt đầu sản xuất ra những tư liệu sinh hoạt của mình\". Đây là điểm khác biệt căn bản nhất: loài vật may mắn lắm chỉ hái lượm, còn con người lại sản xuất. (Nguồn: Chương 3, Mục V, 1.b)"
            },
            {
                id: 3,
                question: "Chọn nhận định đúng nhất về mối quan hệ giữa con người và lịch sử theo quan điểm duy vật biện chứng?",
                options: [
                    "A. Con người hoàn toàn thụ động trước sự sắp đặt của lịch sử.",
                    "B. Con người sáng tạo ra lịch sử theo ý muốn tùy tiện của mình.",
                    "C. Con người vừa là chủ thể của lịch sử, vừa là sản phẩm của lịch sử.",
                    "D. Lịch sử phát triển độc lập, không liên quan đến hoạt động của con người."
                ],
                correct: 2, // Index of C
                explanation: "Con người là chủ thể vì thông qua lao động và hoạt động thực tiễn, con người sáng tạo ra lịch sử xã hội. Tuy nhiên, con người không sáng tạo lịch sử theo ý muốn tùy tiện mà phải dựa trên những điều kiện do quá khứ để lại. Đồng thời, con người là sản phẩm của lịch sử vì chính điều kiện lịch sử, xã hội đã hun đúc nên bản chất con người. \"Lịch sử sản xuất ra con người như thế nào thì tương ứng, con người cũng sáng tạo ra lịch sử như thế ấy\". (Nguồn: Chương 3, Mục V, 1.d)"
            },
            {
                id: 4,
                question: "Theo C. Mác, thực chất (nguyên nhân sâu xa) của hiện tượng tha hóa con người là gì?",
                options: [
                    "A. Sự suy đồi về đạo đức và lối sống.",
                    "B. Lao động của con người bị tha hóa.",
                    "C. Sự phát triển quá nhanh của khoa học công nghệ.",
                    "D. Sự xung đột giữa các nền văn minh."
                ],
                correct: 1, // Index of B
                explanation: "C. Mác chỉ ra rằng thực chất của tha hóa con người là lao động bị tha hóa. Trong chế độ tư hữu (đặc biệt là tư bản chủ nghĩa), sản phẩm của lao động và chính hoạt động lao động (vốn là bản chất sáng tạo của con người) quay lại nô dịch, thống trị con người. Người lao động cảm thấy bị cưỡng bức, chỉ thực hiện chức năng con vật khi lao động, đánh mất bản chất người của mình. (Nguồn: Chương 3, Mục V, 2.a)"
            },
            {
                id: 5,
                question: "Luận điểm nổi tiếng nào trong \"Tuyên ngôn của Đảng Cộng sản\" thể hiện mục tiêu cao cả về sự tự do của con người trong xã hội cộng sản?",
                options: [
                    "A. Người cày có ruộng, người làm có công.",
                    "B. Làm theo năng lực, hưởng theo nhu cầu.",
                    "C. Sự phát triển tự do của mỗi người là điều kiện cho sự phát triển tự do của tất cả mọi người.",
                    "D. Vô sản toàn thế giới, đoàn kết lại."
                ],
                correct: 2, // Index of C
                explanation: "Đây là tư tưởng cốt lõi về mối quan hệ giữa cá nhân và xã hội trong tiến trình giải phóng con người. Khi chế độ tư hữu và sự tha hóa bị xóa bỏ, xã hội sẽ là một sự liên hiệp của các cá nhân, nơi mà tự do của cá nhân là tiền đề cho tự do của cộng đồng và ngược lại. (Nguồn: Chương 3, Mục V, 2.c)"
            },
            {
                id: 6,
                question: "Để giải quyết đúng đắn mối quan hệ giữa cá nhân và xã hội, cần tránh những khuynh hướng sai lầm nào?",
                options: [
                    "A. Đề cao lợi ích kinh tế hơn lợi ích chính trị.",
                    "B. Tuyệt đối hóa cá nhân (chủ nghĩa cá nhân cực đoan) hoặc tuyệt đối hóa xã hội (coi nhẹ cá nhân).",
                    "C. Coi trọng truyền thống mà bỏ qua hiện đại.",
                    "D. Chỉ tập trung vào phát triển cá nhân mà bỏ qua cộng đồng."
                ],
                correct: 1, // Index of B
                explanation: "Mối quan hệ cá nhân - xã hội là biện chứng, không tách rời. Sai lầm sẽ xảy ra nếu đặt cá nhân lên trên xã hội (dẫn đến chủ nghĩa cá nhân, vị kỷ) hoặc chỉ đề cao xã hội mà bỏ quên, coi nhẹ vai trò và lợi ích chính đáng của cá nhân (kìm hãm động lực phát triển). Cần kết hợp hài hòa lợi ích cá nhân và xã hội. (Nguồn: Chương 3, Mục V, 3.a)"
            },
            {
                id: 7,
                question: "Trong sự nghiệp đổi mới ở Việt Nam hiện nay, Đảng ta xác định vai trò của con người như thế nào?",
                options: [
                    "A. Con người là công cụ để tăng trưởng kinh tế.",
                    "B. Con người chỉ là đối tượng cần được quản lý.",
                    "C. Con người vừa là mục tiêu, vừa là động lực của sự phát triển.",
                    "D. Con người là sản phẩm thụ động của cơ chế thị trường."
                ],
                correct: 2, // Index of C
                explanation: "Tư tưởng Hồ Chí Minh và Đảng Cộng sản Việt Nam khẳng định: Con người được đặt vào vị trí trung tâm. Là mục tiêu: Phấn đấu vì độc lập, tự do, hạnh phúc, dân giàu nước mạnh. Là động lực: Con người là nguồn lực quan trọng nhất, quyết định sự thành công của sự nghiệp đổi mới thông qua tính tích cực, tự giác và sáng tạo. (Nguồn: Chương 3, Mục V, 4)"
            }
        ];

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = quizData.map((item, index) => `
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 shadow-soft border border-gray-100 dark:border-gray-700 question-block" id="question-${index}">
                    <div class="flex items-start gap-4 mb-6">
                        <span class="flex-shrink-0 size-8 bg-rose-50 text-rose-600 font-bold rounded-lg flex items-center justify-center text-sm">
                            ${index + 1}
                        </span>
                        <h3 class="text-lg font-bold text-slate-800 dark:text-white leading-relaxed pt-1">
                            ${item.question}
                        </h3>
                    </div>
                    <div class="space-y-3 pl-0 md:pl-12">
                        ${item.options.map((opt, optIndex) => `
                            <label class="cursor-pointer group block relative">
                                <input type="radio" name="q${index}" value="${optIndex}" class="peer sr-only">
                                <div class="p-4 rounded-xl border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all flex items-center gap-3">
                                    <div class="radio-circle w-5 h-5 rounded-full border-2 border-gray-300 dark:border-gray-500 relative flex items-center justify-center transition-colors">
                                        <div class="w-2.5 h-2.5 bg-white rounded-full opacity-0 transform scale-50 transition-all duration-200"></div>
                                    </div>
                                    <span class="text-slate-700 dark:text-gray-300 font-medium">${opt}</span>
                                    
                                    <!-- Icons for result -->
                                    <span class="material-symbols-outlined text-green-500 ml-auto correct-icon">check_circle</span>
                                    <span class="material-symbols-outlined text-red-500 ml-auto wrong-icon">cancel</span>
                                </div>
                            </label>
                        `).join('')}
                    </div>
                    <!-- Explanation (Hidden) -->
                    <div class="explanation hidden mt-6 p-4 bg-rose-50 dark:bg-rose-900/20 rounded-xl border border-rose-100 dark:border-rose-800">
                        <div class="flex items-start gap-3">
                            <span class="material-symbols-outlined text-rose-600 mt-1">lightbulb</span>
                            <div>
                                <h4 class="font-bold text-rose-600 text-sm uppercase mb-1">Giải thích chi tiết</h4>
                                <p class="text-sm text-slate-700 dark:text-gray-300 leading-relaxed">
                                    ${item.explanation}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function submitQuiz() {
            let score = 0;
            let answered = 0;

            quizData.forEach((item, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const questionBlock = document.getElementById(`question-${index}`);
                const explanation = questionBlock.querySelector('.explanation');
                const inputs = questionBlock.querySelectorAll(`input[name="q${index}"]`);

                // Disable inputs
                inputs.forEach(input => input.disabled = true);

                // Remove previous formatting
                questionBlock.querySelectorAll('label > div').forEach(div => {
                    div.classList.remove('correct-answer', 'wrong-answer');
                });

                if (selected) {
                    answered++;
                    const val = parseInt(selected.value);
                    const selectedDiv = selected.nextElementSibling;

                    if (val === item.correct) {
                        score++;
                        selectedDiv.classList.add('correct-answer');
                    } else {
                        selectedDiv.classList.add('wrong-answer');
                        // Highlight correct answer
                        const correctInput = questionBlock.querySelector(`input[value="${item.correct}"]`);
                        correctInput.nextElementSibling.classList.add('correct-answer');
                    }
                } else {
                    // If not answered, just highlight correct
                    const correctInput = questionBlock.querySelector(`input[value="${item.correct}"]`);
                    correctInput.nextElementSibling.classList.add('correct-answer');
                }

                // Show explanation
                explanation.classList.remove('hidden');
            });

            // Show Result
            const modal = document.getElementById('score-modal');
            const scoreDisplay = document.getElementById('final-score');
            const feedback = document.getElementById('feedback-text');
            const submitBtn = document.getElementById('submit-btn');
            const resultActions = document.getElementById('result-actions');

            scoreDisplay.innerText = `${score}/${quizData.length}`;

            if (score === quizData.length) {
                feedback.innerText = "Xuất sắc! Bạn đã nắm vững toàn bộ kiến thức!";
            } else if (score >= 5) {
                feedback.innerText = "Làm tốt lắm! Chỉ còn vài lỗi nhỏ thôi.";
            } else {
                feedback.innerText = "Cần cố gắng thêm nhé! Hãy xem lại kiến thức.";
            }

            // Animation
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modal.querySelector('div').classList.remove('scale-90', 'scale-100');
                modal.querySelector('div').classList.add('scale-100');
            }, 10);

            // Change button area
            submitBtn.classList.add('hidden');
            resultActions.classList.remove('hidden');

            // Scroll to top to see modal clearly
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function closeModal() {
            const modal = document.getElementById('score-modal');
            modal.classList.add('opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderQuiz);
    </script>
</body>

</html>