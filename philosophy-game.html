<!doctype html>
<html lang="vi" class="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Tr√≤ ch∆°i Tri·∫øt h·ªçc - Kh√°m ph√° Th·∫ø gi·ªõi quan c·ªßa b·∫°n | PhiloMap
    </title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#308ce8",
              "primary-dark": "#1a6bb8",
              "background-light": "#f8f9fa",
              "background-dark": "#111921",
            },
            fontFamily: {
              display: ["Lexend", "sans-serif"],
              serif: ["Lora", "serif"],
            },
            animation: {
              "fade-in": "fadeIn 0.5s ease-in",
              "slide-up": "slideUp 0.5s ease-out",
              "bounce-slow": "bounce 2s infinite",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0" },
                "100%": { opacity: "1" },
              },
              slideUp: {
                "0%": { transform: "translateY(20px)", opacity: "0" },
                "100%": { transform: "translateY(0)", opacity: "1" },
              },
            },
          },
        },
      };
    </script>
    <style>
      .material-symbols-outlined {
        font-family: "Material Symbols Outlined";
        font-variation-settings:
          "FILL" 0,
          "wght" 400,
          "GRAD" 0,
          "opsz" 24;
      }

      .choice-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .choice-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }

      .progress-bar {
        transition: width 0.5s ease-in-out;
      }

      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow: 0 0 20px rgba(48, 140, 232, 0.3);
        }
        50% {
          box-shadow: 0 0 40px rgba(48, 140, 232, 0.6);
        }
      }

      .glow-effect {
        animation: pulse-glow 2s infinite;
      }
    </style>
  </head>

  <body
    class="bg-background-light dark:bg-background-dark text-slate-800 dark:text-gray-200 min-h-screen flex flex-col font-display"
  >
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <main class="flex-grow w-full max-w-5xl mx-auto px-4 py-10">
      <!-- Breadcrumb -->
      <div class="mb-6">
        <div
          class="inline-flex items-center px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 dark:bg-blue-900/20 dark:border-blue-800 text-primary text-xs font-bold uppercase tracking-wider gap-2"
        >
          <a
            href="home.html"
            class="hover:underline hover:text-blue-600 transition-colors"
            >TRANG CH·ª¶</a
          >
          <span class="opacity-60">/</span>
          <a
            href="practice.html"
            class="hover:underline hover:text-blue-600 transition-colors"
            >TH·ª∞C H√ÄNH</a
          >
          <span class="opacity-60">/</span>
          <span>TR√í CH∆†I TRI·∫æT H·ªåC</span>
        </div>
      </div>

      <!-- Welcome Screen -->
      <div id="welcome-screen" class="animate-fade-in">
        <div class="text-center mb-12">
          <div
            class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-blue-600 rounded-full mb-6 glow-effect"
          >
            <span class="material-symbols-outlined text-white text-4xl"
              >psychology</span
            >
          </div>
          <h1
            class="text-4xl md:text-5xl font-serif font-bold text-slate-900 dark:text-white mb-4"
          >
            H√†nh tr√¨nh Kh√°m ph√°
            <span class="text-primary italic">Th·∫ø gi·ªõi quan</span>
          </h1>
          <p
            class="text-lg text-slate-600 dark:text-gray-400 max-w-2xl mx-auto mb-8"
          >
            B·∫°n s·∫Ω ƒë·ªëi m·∫∑t v·ªõi 5 t√¨nh hu·ªëng ƒë·∫°o ƒë·ª©c trong cu·ªôc s·ªëng. M·ªói l·ª±a
            ch·ªçn c·ªßa b·∫°n s·∫Ω ti·∫øt l·ªô tri·∫øt l√Ω s·ªëng ·∫©n s√¢u trong t√¢m h·ªìn.
          </p>
        </div>

        <div
          class="bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 mb-8"
        >
          <h2 class="text-2xl font-bold mb-6 text-center">üéØ C√°ch ch∆°i</h2>
          <div class="grid md:grid-cols-3 gap-6">
            <div class="text-center">
              <div
                class="w-12 h-12 bg-blue-100 text-primary rounded-full flex items-center justify-center mx-auto mb-3"
              >
                <span class="text-2xl font-bold">1</span>
              </div>
              <h3 class="font-bold mb-2">ƒê·ªçc t√¨nh hu·ªëng</h3>
              <p class="text-sm text-slate-600 dark:text-gray-400">
                ƒê·∫Øm ch√¨m v√†o c√¢u chuy·ªán v√† suy nghƒ© k·ªπ
              </p>
            </div>
            <div class="text-center">
              <div
                class="w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3"
              >
                <span class="text-2xl font-bold">2</span>
              </div>
              <h3 class="font-bold mb-2">Ch·ªçn h√†nh ƒë·ªông</h3>
              <p class="text-sm text-slate-600 dark:text-gray-400">
                L·ª±a ch·ªçn theo tr·ª±c gi√°c v√† gi√° tr·ªã c·ªßa b·∫°n
              </p>
            </div>
            <div class="text-center">
              <div
                class="w-12 h-12 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-3"
              >
                <span class="text-2xl font-bold">3</span>
              </div>
              <h3 class="font-bold mb-2">Kh√°m ph√° k·∫øt qu·∫£</h3>
              <p class="text-sm text-slate-600 dark:text-gray-400">
                T√¨m hi·ªÉu tri·∫øt l√Ω s·ªëng c·ªßa b·∫°n
              </p>
            </div>
          </div>
        </div>

        <div class="text-center">
          <button
            onclick="startGame()"
            class="px-10 py-4 bg-gradient-to-r from-primary to-blue-600 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 text-lg"
          >
            <span class="flex items-center gap-2">
              <span class="material-symbols-outlined">play_arrow</span>
              B·∫Øt ƒë·∫ßu h√†nh tr√¨nh
            </span>
          </button>
        </div>
      </div>

      <!-- Game Screen -->
      <div id="game-screen" class="hidden">
        <!-- Progress Bar -->
        <div class="mb-8">
          <div class="flex justify-between items-center mb-2">
            <span class="text-sm font-medium text-slate-600 dark:text-gray-400"
              >Ti·∫øn ƒë·ªô</span
            >
            <span class="text-sm font-bold text-primary" id="progress-text"
              >1/5</span
            >
          </div>
          <div
            class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden"
          >
            <div
              id="progress-bar"
              class="progress-bar bg-gradient-to-r from-primary to-blue-600 h-full rounded-full"
              style="width: 20%"
            ></div>
          </div>
        </div>

        <!-- Scenario Card -->
        <div
          id="scenario-card"
          class="bg-white dark:bg-gray-800 rounded-3xl p-8 md:p-10 shadow-xl border border-gray-100 dark:border-gray-700 mb-8 animate-slide-up"
        >
          <div class="flex items-start gap-4 mb-6">
            <div
              class="w-14 h-14 bg-gradient-to-br from-primary to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0"
            >
              <span
                class="material-symbols-outlined text-white text-3xl"
                id="scenario-icon"
                >help</span
              >
            </div>
            <div>
              <h2
                class="text-2xl md:text-3xl font-serif font-bold text-slate-900 dark:text-white mb-3"
                id="scenario-title"
              >
                T√¨nh hu·ªëng
              </h2>
              <p
                class="text-slate-600 dark:text-gray-400 leading-relaxed text-lg"
                id="scenario-description"
              >
                M√¥ t·∫£ t√¨nh hu·ªëng...
              </p>
            </div>
          </div>

          <!-- Choices -->
          <div class="space-y-4" id="choices-container">
            <!-- Choices will be injected here -->
          </div>
        </div>
      </div>

      <!-- Result Screen -->
      <div id="result-screen" class="hidden animate-fade-in">
        <div class="text-center mb-8">
          <div
            class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full mb-6 animate-bounce-slow"
          >
            <span class="material-symbols-outlined text-white text-5xl"
              >emoji_events</span
            >
          </div>
          <h1
            class="text-4xl md:text-5xl font-serif font-bold text-slate-900 dark:text-white mb-4"
          >
            Th·∫ø gi·ªõi quan c·ªßa b·∫°n
          </h1>
        </div>

        <div
          class="bg-white dark:bg-gray-800 rounded-3xl p-8 md:p-10 shadow-xl border border-gray-100 dark:border-gray-700 mb-8"
        >
          <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-primary mb-2" id="result-title">
              Ch·ªß nghƒ©a...
            </h2>
            <p
              class="text-slate-600 dark:text-gray-400 italic"
              id="result-subtitle"
            >
              Ph·ª• ƒë·ªÅ
            </p>
          </div>

          <div class="prose prose-lg max-w-none mb-8">
            <p
              class="text-slate-700 dark:text-gray-300 leading-relaxed"
              id="result-description"
            >
              M√¥ t·∫£ chi ti·∫øt...
            </p>
          </div>

          <!-- Characteristics -->
          <div class="grid md:grid-cols-2 gap-6 mb-8">
            <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6">
              <h3 class="font-bold text-primary mb-3 flex items-center gap-2">
                <span class="material-symbols-outlined">check_circle</span>
                ƒêi·ªÉm m·∫°nh
              </h3>
              <ul class="space-y-2 text-sm" id="result-strengths">
                <!-- Strengths will be injected -->
              </ul>
            </div>
            <div class="bg-orange-50 dark:bg-orange-900/20 rounded-xl p-6">
              <h3
                class="font-bold text-orange-600 mb-3 flex items-center gap-2"
              >
                <span class="material-symbols-outlined">warning</span>
                C·∫ßn l∆∞u √Ω
              </h3>
              <ul class="space-y-2 text-sm" id="result-warnings">
                <!-- Warnings will be injected -->
              </ul>
            </div>
          </div>

          <!-- Famous Philosophers -->
          <div
            class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 mb-8"
          >
            <h3
              class="font-bold text-purple-700 dark:text-purple-400 mb-3 flex items-center gap-2"
            >
              <span class="material-symbols-outlined">school</span>
              Tri·∫øt gia ƒë·∫°i di·ªán
            </h3>
            <p
              class="text-slate-700 dark:text-gray-300"
              id="result-philosophers"
            >
              Danh s√°ch tri·∫øt gia...
            </p>
          </div>

          <!-- Recommended Modules -->
          <div class="bg-green-50 dark:bg-green-900/20 rounded-xl p-6">
            <h3
              class="font-bold text-green-700 dark:text-green-400 mb-3 flex items-center gap-2"
            >
              <span class="material-symbols-outlined">auto_stories</span>
              Module h·ªçc ph√π h·ª£p
            </h3>
            <p
              class="text-slate-700 dark:text-gray-300 mb-4"
              id="result-modules"
            >
              G·ª£i √Ω module...
            </p>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <button
            onclick="restartGame()"
            class="px-8 py-3 bg-slate-800 hover:bg-slate-900 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2"
          >
            <span class="material-symbols-outlined">refresh</span>
            Ch∆°i l·∫°i
          </button>
          <button
            onclick="shareResult()"
            class="px-8 py-3 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2"
          >
            <span class="material-symbols-outlined">share</span>
            Chia s·∫ª k·∫øt qu·∫£
          </button>
          <a
            href="practice.html"
            class="px-8 py-3 border-2 border-primary text-primary hover:bg-primary hover:text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2"
          >
            <span class="material-symbols-outlined">arrow_back</span>
            V·ªÅ Th·ª±c h√†nh
          </a>
        </div>
      </div>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="js/load-components.js"></script>
    <script>
      // Game Data Structure
      const gameData = {
        scenarios: [
          {
            id: 1,
            icon: "school",
            title: "B√†i thi cu·ªëi k·ª≥",
            description:
              "B·∫°n ƒëang l√†m b√†i thi cu·ªëi k·ª≥ quan tr·ªçng. B·∫°n b√® ng·ªìi c·∫°nh nh·ªù b·∫°n cho xem b√†i v√¨ h·ªç s·∫Øp tr∆∞·ª£t m√¥n. N·∫øu gi√∫p, b·∫°n c√≥ nguy c∆° b·ªã ph√°t hi·ªán gian l·∫≠n. B·∫°n s·∫Ω l√†m g√¨?",
            choices: [
              {
                text: "T·ª´ ch·ªëi v√¨ quy t·∫Øc l√† quy t·∫Øc, kh√¥ng th·ªÉ vi ph·∫°m",
                scores: { deontology: 3, virtue: 1 },
              },
              {
                text: "Gi√∫p b·∫°n v√¨ t√¨nh b·∫°n quan tr·ªçng h∆°n quy t·∫Øc",
                scores: { care: 3, consequentialism: 1 },
              },
              {
                text: "C√¢n nh·∫Øc h·∫≠u qu·∫£: n·∫øu kh√¥ng b·ªã ph√°t hi·ªán th√¨ gi√∫p",
                scores: { consequentialism: 3 },
              },
              {
                text: "T√¨m c√°ch kh√°c: h·ª©a s·∫Ω d·∫°y b·∫°n ·∫•y sau khi thi xong",
                scores: { virtue: 3, care: 1 },
              },
            ],
          },
          {
            id: 2,
            icon: "account_balance_wallet",
            title: "T√¨m th·∫•y v√≠ ti·ªÅn",
            description:
              "B·∫°n nh·∫∑t ƒë∆∞·ª£c m·ªôt chi·∫øc v√≠ c√≥ 5 tri·ªáu ƒë·ªìng v√† CMND c·ªßa ng∆∞·ªùi kh√°c. Gia ƒë√¨nh b·∫°n ƒëang r·∫•t kh√≥ khƒÉn v·ªÅ t√†i ch√≠nh. B·∫°n s·∫Ω l√†m g√¨?",
            choices: [
              {
                text: "Tr·∫£ l·∫°i ngay cho ch·ªß nh√¢n v√¨ ƒë√≥ l√† c·ªßa ng∆∞·ªùi ta",
                scores: { deontology: 3, virtue: 2 },
              },
              {
                text: "Gi·ªØ l·∫°i v√¨ gia ƒë√¨nh m√¨nh c·∫ßn ti·ªÅn h∆°n",
                scores: { egoism: 3 },
              },
              {
                text: "Tr·∫£ l·∫°i nh∆∞ng mong nh·∫≠n ph·∫ßn th∆∞·ªüng",
                scores: { consequentialism: 2, egoism: 1 },
              },
              {
                text: "Quy√™n g√≥p s·ªë ti·ªÅn ƒë√≥ cho ng∆∞·ªùi ngh√®o h∆°n",
                scores: { consequentialism: 3, care: 1 },
              },
            ],
          },
          {
            id: 3,
            icon: "favorite",
            title: "L·ªùi h·ª©a v·ªõi b·∫°n th√¢n",
            description:
              "B·∫°n h·ª©a s·∫Ω ƒëi sinh nh·∫≠t b·∫°n th√¢n. Nh∆∞ng ƒë·ªôt nhi√™n c√≥ c∆° h·ªôi ph·ªèng v·∫•n th·ª±c t·∫≠p ·ªü c√¥ng ty m∆° ∆∞·ªõc v√†o ƒë√∫ng gi·ªù ƒë√≥. B·∫°n s·∫Ω l√†m g√¨?",
            choices: [
              {
                text: "Gi·ªØ l·ªùi h·ª©a v√¨ t√¨nh b·∫°n l√† thi√™ng li√™ng",
                scores: { deontology: 3, care: 2 },
              },
              {
                text: "ƒêi ph·ªèng v·∫•n v√¨ t∆∞∆°ng lai ngh·ªÅ nghi·ªáp quan tr·ªçng h∆°n",
                scores: { consequentialism: 3, egoism: 1 },
              },
              {
                text: "Th∆∞∆°ng l∆∞·ª£ng v·ªõi c√¥ng ty ƒë·ªÉ ƒë·ªïi l·ªãch ph·ªèng v·∫•n",
                scores: { virtue: 3, care: 1 },
              },
              {
                text: "ƒêi sinh nh·∫≠t nh∆∞ng v·ªÅ s·ªõm ƒë·ªÉ chu·∫©n b·ªã ph·ªèng v·∫•n",
                scores: { virtue: 2, care: 2 },
              },
            ],
          },
          {
            id: 4,
            icon: "gavel",
            title: "Ch·ª©ng ki·∫øn gian l·∫≠n",
            description:
              "B·∫°n th·∫•y ng∆∞·ªùi quen ƒëang gian l·∫≠n trong k·ª≥ thi. N·∫øu tÍ≥†ph√°t, h·ªç s·∫Ω b·ªã ƒëu·ªïi h·ªçc v√† gia ƒë√¨nh h·ªç r·∫•t kh√≥ khƒÉn. B·∫°n s·∫Ω l√†m g√¨?",
            choices: [
              {
                text: "B√°o c√°o ngay v√¨ c√¥ng b·∫±ng cho nh·ªØng ng∆∞·ªùi kh√°c",
                scores: { deontology: 3, consequentialism: 1 },
              },
              {
                text: "Im l·∫∑ng v√¨ kh√¥ng mu·ªën h·∫°i ng∆∞·ªùi kh√°c",
                scores: { care: 3 },
              },
              {
                text: "Nh·∫Øc nh·ªü ri√™ng v√† cho h·ªç c∆° h·ªôi s·ª≠a sai",
                scores: { virtue: 3, care: 2 },
              },
              {
                text: "Kh√¥ng can thi·ªáp v√¨ ƒë√≥ l√† chuy·ªán c·ªßa h·ªç",
                scores: { egoism: 2 },
              },
            ],
          },
          {
            id: 5,
            icon: "groups",
            title: "D·ª± √°n nh√≥m",
            description:
              "Trong nh√≥m l√†m vi·ªác, c√≥ m·ªôt th√†nh vi√™n kh√¥ng ƒë√≥ng g√≥p g√¨ nh∆∞ng v·∫´n mu·ªën ƒë∆∞·ª£c ƒëi·ªÉm cao. C√°c th√†nh vi√™n kh√°c mu·ªën lo·∫°i ng∆∞·ªùi ƒë√≥ ra. B·∫°n l√† nh√≥m tr∆∞·ªüng, b·∫°n quy·∫øt ƒë·ªãnh th·∫ø n√†o?",
            choices: [
              {
                text: "Lo·∫°i ra v√¨ c√¥ng b·∫±ng v·ªõi nh·ªØng ng∆∞·ªùi ƒë√£ c·ªë g·∫Øng",
                scores: { deontology: 2, consequentialism: 2 },
              },
              {
                text: "Gi·ªØ l·∫°i nh∆∞ng cho ƒëi·ªÉm th·∫•p h∆°n",
                scores: { virtue: 3, consequentialism: 1 },
              },
              {
                text: "Cho c∆° h·ªôi cu·ªëi ƒë·ªÉ ng∆∞·ªùi ƒë√≥ ƒë√≥ng g√≥p",
                scores: { care: 3, virtue: 2 },
              },
              {
                text: "Gi·ªØ l·∫°i v√¨ kh√¥ng mu·ªën g√¢y m√¢u thu·∫´n",
                scores: { care: 1, egoism: 1 },
              },
            ],
          },
        ],
        philosophies: {
          deontology: {
            name: "Ch·ªß nghƒ©a Nghƒ©a v·ª• lu·∫≠n (Deontology)",
            subtitle: "Nguy√™n t·∫Øc l√† kim ch·ªâ nam",
            description:
              "B·∫°n tin r·∫±ng c√≥ nh·ªØng nguy√™n t·∫Øc ƒë·∫°o ƒë·ª©c ph·ªï qu√°t m√† m·ªçi ng∆∞·ªùi ph·∫£i tu√¢n theo, b·∫•t k·ªÉ h·∫≠u qu·∫£. ƒê·ªëi v·ªõi b·∫°n, h√†nh ƒë·ªông ƒë√∫ng l√† h√†nh ƒë·ªông tu√¢n th·ªß nghƒ©a v·ª• v√† quy t·∫Øc ƒë·∫°o ƒë·ª©c, kh√¥ng ph·∫£i v√¨ l·ª£i √≠ch hay k·∫øt qu·∫£. B·∫°n ƒë·ªÅ cao t√≠nh nh·∫•t qu√°n, c√¥ng b·∫±ng v√† tr√°ch nhi·ªám.",
            strengths: [
              "C√≥ nguy√™n t·∫Øc v·ªØng v√†ng, kh√¥ng d·ªÖ b·ªã lay chuy·ªÉn",
              "ƒê√°ng tin c·∫≠y v√† c√≥ tr√°ch nhi·ªám cao",
              "T√¥n tr·ªçng quy·ªÅn l·ª£i v√† ph·∫©m gi√° con ng∆∞·ªùi",
              "H√†nh ƒë·ªông nh·∫•t qu√°n v√† c√≥ th·ªÉ d·ª± ƒëo√°n",
            ],
            warnings: [
              "ƒê√¥i khi qu√° c·ª©ng nh·∫Øc, thi·∫øu linh ho·∫°t",
              "C√≥ th·ªÉ b·ªè qua h·∫≠u qu·∫£ th·ª±c t·∫ø c·ªßa h√†nh ƒë·ªông",
              "Kh√≥ x·ª≠ l√Ω khi c√°c nguy√™n t·∫Øc m√¢u thu·∫´n nhau",
              "C√≥ th·ªÉ b·ªã coi l√† thi·∫øu ƒë·ªìng c·∫£m",
            ],
            philosophers: "Immanuel Kant, W.D. Ross, Thomas Aquinas",
            modules:
              "Module 1 (ƒê·ªãnh v·ªã b·∫£n th√¢n), Module 4 (Lu·∫≠t ch∆°i c·ªßa x√£ h·ªôi)",
          },
          consequentialism: {
            name: "Ch·ªß nghƒ©a H·∫≠u qu·∫£ lu·∫≠n (Consequentialism)",
            subtitle: "K·∫øt qu·∫£ quy·∫øt ƒë·ªãnh ƒë√∫ng sai",
            description:
              "B·∫°n ƒë√°nh gi√° h√†nh ƒë·ªông d·ª±a tr√™n h·∫≠u qu·∫£ c·ªßa n√≥. M·ªôt h√†nh ƒë·ªông l√† ƒë√∫ng n·∫øu n√≥ mang l·∫°i k·∫øt qu·∫£ t·ªët nh·∫•t cho s·ªë ƒë√¥ng ng∆∞·ªùi. B·∫°n l√† ng∆∞·ªùi th·ª±c d·ª•ng, linh ho·∫°t v√† lu√¥n c√¢n nh·∫Øc l·ª£i √≠ch t·ªïng th·ªÉ. B·∫°n tin r·∫±ng ƒë·∫°o ƒë·ª©c kh√¥ng ph·∫£i l√† tuy·ªát ƒë·ªëi m√† ph·ª• thu·ªôc v√†o ho√†n c·∫£nh.",
            strengths: [
              "Linh ho·∫°t v√† th·ª±c t·∫ø trong ra quy·∫øt ƒë·ªãnh",
              "Quan t√¢m ƒë·∫øn l·ª£i √≠ch chung v√† h·∫°nh ph√∫c t·∫≠p th·ªÉ",
              "C√≥ kh·∫£ nƒÉng c√¢n nh·∫Øc v√† ph√¢n t√≠ch t·ªët",
              "S·∫µn s√†ng thay ƒë·ªïi khi ho√†n c·∫£nh ƒë·ªïi kh√°c",
            ],
            warnings: [
              "C√≥ th·ªÉ bi·ªán minh cho h√†nh ƒë·ªông sai tr√°i v√¨ 'm·ª•c ƒë√≠ch cao c·∫£'",
              "Kh√≥ d·ª± ƒëo√°n ch√≠nh x√°c m·ªçi h·∫≠u qu·∫£",
              "C√≥ nguy c∆° hy sinh quy·ªÅn l·ª£i thi·ªÉu s·ªë v√¨ ƒëa s·ªë",
              "ƒê√¥i khi thi·∫øu nguy√™n t·∫Øc r√µ r√†ng",
            ],
            philosophers: "Jeremy Bentham, John Stuart Mill, Peter Singer",
            modules:
              "Module 2 (Ngh·ªá thu·∫≠t ƒë·ªëi m·∫∑t v·ªõi thay ƒë·ªïi), Module 3 (H√†nh tr√¨nh tri th·ª©c)",
          },
          virtue: {
            name: "Ch·ªß nghƒ©a ƒê·ª©c h·∫°nh (Virtue Ethics)",
            subtitle: "Tr·ªü th√†nh ng∆∞·ªùi t·ªët h∆°n m·ªói ng√†y",
            description:
              "B·∫°n tin r·∫±ng ƒë·∫°o ƒë·ª©c kh√¥ng ch·ªâ l√† tu√¢n theo quy t·∫Øc hay t√≠nh to√°n h·∫≠u qu·∫£, m√† l√† ph√°t tri·ªÉn ph·∫©m ch·∫•t t·ªët ƒë·∫πp trong con ng∆∞·ªùi. B·∫°n h∆∞·ªõng ƒë·∫øn vi·ªác tr·ªü th√†nh m·ªôt ng∆∞·ªùi c√≥ ƒë·ª©c h·∫°nh: d≈©ng c·∫£m, kh√¥n ngoan, c√¥ng b·∫±ng, ti·∫øt ch·∫ø. B·∫°n tin v√†o s·ª± c√¢n b·∫±ng v√† trung dung.",
            strengths: [
              "T·∫≠p trung v√†o ph√°t tri·ªÉn b·∫£n th√¢n to√†n di·ªán",
              "C√¢n b·∫±ng gi·ªØa l√Ω tr√≠ v√† c·∫£m x√∫c",
              "C√≥ kh·∫£ nƒÉng ph√°n ƒëo√°n t√¨nh hu·ªëng linh ho·∫°t",
              "X√¢y d·ª±ng nh√¢n c√°ch v·ªØng ch·∫Øc theo th·ªùi gian",
            ],
            warnings: [
              "Kh√°i ni·ªám 'ƒë·ª©c h·∫°nh' c√≥ th·ªÉ m∆° h·ªì v√† ch·ªß quan",
              "C·∫ßn th·ªùi gian d√†i ƒë·ªÉ ph√°t tri·ªÉn ph·∫©m ch·∫•t",
              "Kh√≥ √°p d·ª•ng trong t√¨nh hu·ªëng c·∫ßn quy·∫øt ƒë·ªãnh nhanh",
              "C√≥ th·ªÉ thi·∫øu h∆∞·ªõng d·∫´n c·ª• th·ªÉ cho h√†nh ƒë·ªông",
            ],
            philosophers:
              "Aristotle, Confucius, Thomas Aquinas, Alasdair MacIntyre",
            modules:
              "Module 2 (Ngh·ªá thu·∫≠t ƒë·ªëi m·∫∑t v·ªõi thay ƒë·ªïi), Module 5 (Con ng∆∞·ªùi ‚Äì M·ª•c ti√™u & ƒê·ªông l·ª±c)",
          },
          care: {
            name: "ƒê·∫°o ƒë·ª©c Quan t√¢m (Care Ethics)",
            subtitle: "T√¨nh c·∫£m v√† m·ªëi quan h·ªá l√† tr·ªçng t√¢m",
            description:
              "B·∫°n tin r·∫±ng ƒë·∫°o ƒë·ª©c n·∫£y sinh t·ª´ m·ªëi quan h·ªá v√† s·ª± quan t√¢m ƒë·∫øn ng∆∞·ªùi kh√°c. B·∫°n ƒë·ªÅ cao l√≤ng tr·∫Øc ·∫©n, s·ª± ƒë·ªìng c·∫£m v√† tr√°ch nhi·ªám trong c√°c m·ªëi quan h·ªá. ƒê·ªëi v·ªõi b·∫°n, ƒë·∫°o ƒë·ª©c kh√¥ng ph·∫£i l√† √°p d·ª•ng quy t·∫Øc tr·ª´u t∆∞·ª£ng m√† l√† ƒë√°p ·ª©ng nhu c·∫ßu c·ª• th·ªÉ c·ªßa nh·ªØng ng∆∞·ªùi xung quanh.",
            strengths: [
              "C√≥ kh·∫£ nƒÉng ƒë·ªìng c·∫£m v√† th·∫•u hi·ªÉu cao",
              "X√¢y d·ª±ng m·ªëi quan h·ªá s√¢u s·∫Øc v√† √Ω nghƒ©a",
              "Nh·∫°y b√©n v·ªõi nhu c·∫ßu v√† c·∫£m x√∫c ng∆∞·ªùi kh√°c",
              "T·∫°o m√¥i tr∆∞·ªùng h·ªó tr·ª£ v√† an to√†n",
            ],
            warnings: [
              "C√≥ th·ªÉ qu√° thi√™n v·ªã v·ªõi ng∆∞·ªùi th√¢n quen",
              "Kh√≥ duy tr√¨ ranh gi·ªõi c√° nh√¢n",
              "Nguy c∆° b·ªã l·ª£i d·ª•ng l√≤ng t·ªët",
              "ƒê√¥i khi b·ªè qua c√¥ng b·∫±ng v√¨ t√¨nh c·∫£m",
            ],
            philosophers: "Carol Gilligan, Nel Noddings, Virginia Held",
            modules:
              "Module 2 (Ngh·ªá thu·∫≠t ƒë·ªëi m·∫∑t v·ªõi thay ƒë·ªïi), Module 5 (Con ng∆∞·ªùi ‚Äì M·ª•c ti√™u & ƒê·ªông l·ª±c)",
          },
          egoism: {
            name: "Ch·ªß nghƒ©a V·ªã k·ª∑ h·ª£p l√Ω (Rational Egoism)",
            subtitle: "L·ª£i √≠ch b·∫£n th√¢n l√† ∆∞u ti√™n",
            description:
              "B·∫°n tin r·∫±ng m·ªói ng∆∞·ªùi n√™n h√†nh ƒë·ªông v√¨ l·ª£i √≠ch t·ªët nh·∫•t c·ªßa ch√≠nh m√¨nh. ƒêi·ªÅu n√†y kh√¥ng c√≥ nghƒ©a l√† √≠ch k·ª∑ m√π qu√°ng, m√† l√† nh·∫≠n th·ª©c r·∫±ng vi·ªác chƒÉm s√≥c b·∫£n th√¢n l√† ƒëi·ªÅu ki·ªán ƒë·ªÉ c√≥ th·ªÉ gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c. B·∫°n tin v√†o t·ª± do c√° nh√¢n v√† tr√°ch nhi·ªám v·ªõi ch√≠nh m√¨nh.",
            strengths: [
              "ƒê·ªôc l·∫≠p v√† t·ª± ch·ªß cao",
              "C√≥ ƒë·ªông l·ª±c m·∫°nh m·∫Ω ƒë·ªÉ ph√°t tri·ªÉn b·∫£n th√¢n",
              "Kh√¥ng ph·ª• thu·ªôc v√†o s·ª± c√¥ng nh·∫≠n c·ªßa ng∆∞·ªùi kh√°c",
              "Trung th·ª±c v·ªõi b·∫£n th√¢n v√† mong mu·ªën c·ªßa m√¨nh",
            ],
            warnings: [
              "C√≥ th·ªÉ b·ªè qua tr√°ch nhi·ªám v·ªõi c·ªông ƒë·ªìng",
              "Nguy c∆° c√¥ l·∫≠p v√† thi·∫øu h·ªó tr·ª£ x√£ h·ªôi",
              "Kh√≥ h·ª£p t√°c v√† x√¢y d·ª±ng l√≤ng tin",
              "C√≥ th·ªÉ b·ªã coi l√† √≠ch k·ª∑ v√† v√¥ c·∫£m",
            ],
            philosophers: "Ayn Rand, Max Stirner, Friedrich Nietzsche",
            modules:
              "Module 1 (ƒê·ªãnh v·ªã b·∫£n th√¢n), Module 5 (Con ng∆∞·ªùi ‚Äì M·ª•c ti√™u & ƒê·ªông l·ª±c)",
          },
        },
      };

      // Game State
      let currentScenario = 0;
      let scores = {
        deontology: 0,
        consequentialism: 0,
        virtue: 0,
        care: 0,
        egoism: 0,
      };

      // Start Game
      function startGame() {
        document.getElementById("welcome-screen").classList.add("hidden");
        document.getElementById("game-screen").classList.remove("hidden");
        currentScenario = 0;
        scores = {
          deontology: 0,
          consequentialism: 0,
          virtue: 0,
          care: 0,
          egoism: 0,
        };
        loadScenario();
      }

      // Load Scenario
      function loadScenario() {
        const scenario = gameData.scenarios[currentScenario];
        const progress =
          ((currentScenario + 1) / gameData.scenarios.length) * 100;

        // Update progress
        document.getElementById("progress-bar").style.width = progress + "%";
        document.getElementById("progress-text").textContent =
          `${currentScenario + 1}/${gameData.scenarios.length}`;

        // Update scenario content
        document.getElementById("scenario-icon").textContent = scenario.icon;
        document.getElementById("scenario-title").textContent = scenario.title;
        document.getElementById("scenario-description").textContent =
          scenario.description;

        // Render choices
        const choicesContainer = document.getElementById("choices-container");
        choicesContainer.innerHTML = "";

        scenario.choices.forEach((choice, index) => {
          const choiceCard = document.createElement("button");
          choiceCard.className =
            "choice-card w-full text-left p-5 bg-gray-50 dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-blue-900/30 border-2 border-gray-200 dark:border-gray-600 hover:border-primary rounded-xl transition-all";
          choiceCard.innerHTML = `
                    <div class="flex items-start gap-4">
                        <div class="w-8 h-8 bg-white dark:bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-primary">
                            ${String.fromCharCode(65 + index)}
                        </div>
                        <p class="text-slate-700 dark:text-gray-200 font-medium leading-relaxed">${choice.text}</p>
                    </div>
                `;
          choiceCard.onclick = () => selectChoice(choice.scores);
          choicesContainer.appendChild(choiceCard);
        });

        // Animate in
        document
          .getElementById("scenario-card")
          .classList.remove("animate-slide-up");
        setTimeout(() => {
          document
            .getElementById("scenario-card")
            .classList.add("animate-slide-up");
        }, 10);
      }

      // Select Choice
      function selectChoice(choiceScores) {
        // Update scores
        for (let key in choiceScores) {
          scores[key] += choiceScores[key];
        }

        // Move to next scenario or show result
        currentScenario++;
        if (currentScenario < gameData.scenarios.length) {
          setTimeout(() => loadScenario(), 300);
        } else {
          setTimeout(() => showResult(), 300);
        }
      }

      // Show Result
      function showResult() {
        // Find dominant philosophy
        let maxScore = 0;
        let dominantPhilosophy = "virtue";

        for (let key in scores) {
          if (scores[key] > maxScore) {
            maxScore = scores[key];
            dominantPhilosophy = key;
          }
        }

        const result = gameData.philosophies[dominantPhilosophy];

        // Hide game screen, show result screen
        document.getElementById("game-screen").classList.add("hidden");
        document.getElementById("result-screen").classList.remove("hidden");

        // Populate result
        document.getElementById("result-title").textContent = result.name;
        document.getElementById("result-subtitle").textContent =
          result.subtitle;
        document.getElementById("result-description").textContent =
          result.description;

        // Strengths
        const strengthsList = document.getElementById("result-strengths");
        strengthsList.innerHTML = result.strengths
          .map(
            (s) =>
              `<li class="flex gap-2"><span class="text-primary">‚úì</span><span class="text-slate-700 dark:text-gray-300">${s}</span></li>`,
          )
          .join("");

        // Warnings
        const warningsList = document.getElementById("result-warnings");
        warningsList.innerHTML = result.warnings
          .map(
            (w) =>
              `<li class="flex gap-2"><span class="text-orange-600">‚ö†</span><span class="text-slate-700 dark:text-gray-300">${w}</span></li>`,
          )
          .join("");

        // Philosophers
        document.getElementById("result-philosophers").textContent =
          result.philosophers;

        // Modules
        document.getElementById("result-modules").textContent = result.modules;

        // Save to localStorage
        localStorage.setItem(
          "philosophyGameResult",
          JSON.stringify({
            philosophy: dominantPhilosophy,
            name: result.name,
            date: new Date().toLocaleDateString("vi-VN"),
          }),
        );

        // Scroll to top
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // Restart Game
      function restartGame() {
        document.getElementById("result-screen").classList.add("hidden");
        document.getElementById("welcome-screen").classList.remove("hidden");
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // Share Result
      function shareResult() {
        const resultTitle = document.getElementById("result-title").textContent;
        const shareText = `T√¥i v·ª´a kh√°m ph√° th·∫ø gi·ªõi quan c·ªßa m√¨nh: ${resultTitle}! B·∫°n thu·ªôc tr∆∞·ªùng ph√°i tri·∫øt h·ªçc n√†o? H√£y th·ª≠ ngay! üéÆ‚ú®`;

        if (navigator.share) {
          navigator
            .share({
              title: "K·∫øt qu·∫£ Tr√≤ ch∆°i Tri·∫øt h·ªçc",
              text: shareText,
              url: window.location.href,
            })
            .catch((err) => console.log("Error sharing:", err));
        } else {
          // Fallback: Copy to clipboard
          navigator.clipboard
            .writeText(shareText + "\n" + window.location.href)
            .then(() => alert("ƒê√£ sao ch√©p k·∫øt qu·∫£! B·∫°n c√≥ th·ªÉ chia s·∫ª ngay."))
            .catch((err) => console.log("Error copying:", err));
        }
      }
    </script>
  </body>
</html>
