<!doctype html>
<html lang="vi" class="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tr√≤ ch∆°i Tri·∫øt h·ªçc N√¢ng cao - PhiloMap</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#308ce8",
              "primary-dark": "#1a6bb8",
              "background-light": "#f8f9fa",
              "background-dark": "#111921",
            },
            fontFamily: {
              display: ["Lexend", "sans-serif"],
              serif: ["Lora", "serif"],
            },
            animation: {
              "fade-in": "fadeIn 0.5s ease-in",
              "slide-up": "slideUp 0.5s ease-out",
              "bounce-slow": "bounce 2s infinite",
              "pulse-glow": "pulseGlow 2s infinite",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0" },
                "100%": { opacity: "1" },
              },
              slideUp: {
                "0%": { transform: "translateY(20px)", opacity: "0" },
                "100%": { transform: "translateY(0)", opacity: "1" },
              },
              pulseGlow: {
                "0%, 100%": { boxShadow: "0 0 20px rgba(48, 140, 232, 0.3)" },
                "50%": { boxShadow: "0 0 40px rgba(48, 140, 232, 0.6)" },
              },
            },
          },
        },
      };
    </script>
    <style>
      .material-symbols-outlined {
        font-family: "Material Symbols Outlined";
        font-variation-settings:
          "FILL" 0,
          "wght" 400,
          "GRAD" 0,
          "opsz" 24;
      }
      .choice-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .choice-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }
      .progress-bar {
        transition: width 0.5s ease-in-out;
      }
      .achievement-badge {
        filter: grayscale(100%);
        opacity: 0.5;
        transition: all 0.3s;
      }
      .achievement-badge.unlocked {
        filter: grayscale(0%);
        opacity: 1;
      }
      @keyframes notification-slide {
        from {
          transform: translateX(400px);
        }
        to {
          transform: translateX(0);
        }
      }
      .notification {
        animation: notification-slide 0.5s ease-out;
      }
    </style>
  </head>

  <body
    class="bg-background-light dark:bg-background-dark text-slate-800 dark:text-gray-200 min-h-screen flex flex-col font-display"
  >
    <div id="header-placeholder"></div>

    <main class="flex-grow w-full max-w-7xl mx-auto px-4 py-10">
      <!-- Breadcrumb -->
      <div class="mb-6">
        <div
          class="inline-flex items-center px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-primary text-xs font-bold uppercase tracking-wider gap-2"
        >
          <a href="home.html" class="hover:underline">TRANG CH·ª¶</a>
          <span class="opacity-60">/</span>
          <a href="practice.html" class="hover:underline">TH·ª∞C H√ÄNH</a>
          <span class="opacity-60">/</span>
          <span>TR√í CH∆†I N√ÇNG CAO</span>
        </div>
      </div>

      <!-- Character Introduction Screen -->
      <div id="intro-screen" class="animate-fade-in">
        <div class="text-center mb-12">
          <div
            class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-blue-600 rounded-full mb-6 animate-pulse-glow"
          >
            <span class="material-symbols-outlined text-white text-4xl"
              >psychology</span
            >
          </div>
          <h1
            class="text-4xl md:text-5xl font-serif font-bold text-slate-900 dark:text-white mb-4"
          >
            H√†nh tr√¨nh Kh√°m ph√°
            <span class="text-primary italic">Th·∫ø gi·ªõi quan</span>
          </h1>
          <p
            class="text-lg text-slate-600 dark:text-gray-400 max-w-2xl mx-auto mb-8"
          >
            10 t√¨nh hu·ªëng th·ª±c t·∫ø s·∫Ω ti·∫øt l·ªô tri·∫øt l√Ω s·ªëng ·∫©n s√¢u trong b·∫°n. M·ªói
            quy·∫øt ƒë·ªãnh ƒë·ªãnh h√¨nh th·∫ø gi·ªõi quan c·ªßa b·∫°n.
          </p>
        </div>

        <div
          class="bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-2xl mx-auto mb-8"
        >
          <h2 class="text-2xl font-bold mb-6 text-center">
            üé≠ T·∫°o nh√¢n v·∫≠t c·ªßa b·∫°n
          </h2>

          <div class="mb-6">
            <label class="block text-sm font-medium mb-2">T√™n c·ªßa b·∫°n:</label>
            <input
              type="text"
              id="player-name"
              placeholder="Nh·∫≠p t√™n..."
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-colors"
            />
          </div>

          <div class="grid grid-cols-4 gap-4 mb-6">
            <div
              class="avatar-option cursor-pointer p-4 border-2 border-gray-200 rounded-xl hover:border-primary transition-colors text-center"
              data-avatar="üòä"
            >
              <div class="text-4xl mb-2">üòä</div>
              <div class="text-xs">Vui v·∫ª</div>
            </div>
            <div
              class="avatar-option cursor-pointer p-4 border-2 border-gray-200 rounded-xl hover:border-primary transition-colors text-center"
              data-avatar="ü§î"
            >
              <div class="text-4xl mb-2">ü§î</div>
              <div class="text-xs">Suy t∆∞</div>
            </div>
            <div
              class="avatar-option cursor-pointer p-4 border-2 border-gray-200 rounded-xl hover:border-primary transition-colors text-center"
              data-avatar="üòå"
            >
              <div class="text-4xl mb-2">üòå</div>
              <div class="text-xs">B√¨nh th·∫£n</div>
            </div>
            <div
              class="avatar-option cursor-pointer p-4 border-2 border-gray-200 rounded-xl hover:border-primary transition-colors text-center"
              data-avatar="üßê"
            >
              <div class="text-4xl mb-2">üßê</div>
              <div class="text-xs">Tr√≠ tu·ªá</div>
            </div>
          </div>

          <button
            onclick="startGame()"
            class="w-full px-10 py-4 bg-gradient-to-r from-primary to-blue-600 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105"
          >
            <span class="flex items-center justify-center gap-2">
              <span class="material-symbols-outlined">play_arrow</span>
              B·∫Øt ƒë·∫ßu h√†nh tr√¨nh
            </span>
          </button>
        </div>

        <!-- Features Preview -->
        <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
          <div
            class="text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg"
          >
            <div
              class="w-12 h-12 bg-blue-100 text-primary rounded-full flex items-center justify-center mx-auto mb-3"
            >
              <span class="material-symbols-outlined">trending_up</span>
            </div>
            <h3 class="font-bold mb-2">Theo d√µi Real-time</h3>
            <p class="text-sm text-slate-600 dark:text-gray-400">
              Xem tri·∫øt l√Ω c·ªßa b·∫°n ph√°t tri·ªÉn qua bi·ªÉu ƒë·ªì ƒë·ªông
            </p>
          </div>
          <div
            class="text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg"
          >
            <div
              class="w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3"
            >
              <span class="material-symbols-outlined">quiz</span>
            </div>
            <h3 class="font-bold mb-2">10 T√¨nh hu·ªëng</h3>
            <p class="text-sm text-slate-600 dark:text-gray-400">
              T·ª´ h·ªçc ƒë∆∞·ªùng, gia ƒë√¨nh ƒë·∫øn c√¥ng vi·ªác v√† x√£ h·ªôi
            </p>
          </div>
          <div
            class="text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg"
          >
            <div
              class="w-12 h-12 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-3"
            >
              <span class="material-symbols-outlined">emoji_events</span>
            </div>
            <h3 class="font-bold mb-2">H·ªá th·ªëng Th√†nh t√≠ch</h3>
            <p class="text-sm text-slate-600 dark:text-gray-400">
              M·ªü kh√≥a huy hi·ªáu v√† theo d√µi ti·∫øn tr√¨nh
            </p>
          </div>
        </div>
      </div>

      <!-- Game Screen -->
      <div id="game-screen" class="hidden">
        <div class="grid md:grid-cols-3 gap-8">
          <!-- Main Game Area -->
          <div class="md:col-span-2">
            <!-- Progress Bar -->
            <div class="mb-8">
              <div class="flex justify-between items-center mb-2">
                <span
                  class="text-sm font-medium text-slate-600 dark:text-gray-400"
                  >Ti·∫øn ƒë·ªô</span
                >
                <span class="text-sm font-bold text-primary" id="progress-text"
                  >1/10</span
                >
              </div>
              <div
                class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden"
              >
                <div
                  id="progress-bar"
                  class="progress-bar bg-gradient-to-r from-primary to-blue-600 h-full rounded-full"
                  style="width: 10%"
                ></div>
              </div>
            </div>

            <!-- Scenario Card -->
            <div
              id="scenario-card"
              class="bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 mb-8"
            >
              <div class="flex items-start gap-4 mb-6">
                <div
                  class="w-14 h-14 bg-gradient-to-br from-primary to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0"
                >
                  <span
                    class="material-symbols-outlined text-white text-3xl"
                    id="scenario-icon"
                    >help</span
                  >
                </div>
                <div class="flex-grow">
                  <h2
                    class="text-2xl md:text-3xl font-serif font-bold text-slate-900 dark:text-white mb-3"
                    id="scenario-title"
                  >
                    T√¨nh hu·ªëng
                  </h2>
                  <p
                    class="text-slate-600 dark:text-gray-400 leading-relaxed text-lg"
                    id="scenario-description"
                  >
                    M√¥ t·∫£...
                  </p>
                </div>
              </div>

              <!-- Choices -->
              <div class="space-y-4" id="choices-container"></div>
            </div>
          </div>

          <!-- Philosophy Meter Sidebar -->
          <div class="md:col-span-1">
            <div
              class="sticky top-4 bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-gray-100 dark:border-gray-700"
            >
              <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary"
                  >insights</span
                >
                Th·∫ø gi·ªõi quan c·ªßa b·∫°n
              </h3>
              <div class="mb-4">
                <canvas id="philosophyChart"></canvas>
              </div>
              <div class="text-xs text-slate-500 dark:text-gray-400 space-y-2">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                  <span>Nghƒ©a v·ª• lu·∫≠n</span>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full bg-green-500"></div>
                  <span>H·∫≠u qu·∫£ lu·∫≠n</span>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full bg-purple-500"></div>
                  <span>ƒê·ª©c h·∫°nh</span>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full bg-pink-500"></div>
                  <span>Quan t√¢m</span>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full bg-orange-500"></div>
                  <span>V·ªã k·ª∑ h·ª£p l√Ω</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Consequence Preview Screen -->
      <div
        id="consequence-screen"
        class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm"
      >
        <div
          class="bg-white dark:bg-gray-800 rounded-3xl p-8 max-w-md w-full shadow-2xl animate-slide-up"
        >
          <div class="text-center">
            <div class="text-6xl mb-4" id="consequence-icon">üí≠</div>
            <h3 class="text-2xl font-bold mb-3" id="consequence-title">
              H·∫≠u qu·∫£
            </h3>
            <p
              class="text-slate-600 dark:text-gray-400 mb-4 italic"
              id="consequence-dialogue"
            >
              "..."
            </p>
            <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 mb-4">
              <p class="text-sm font-medium" id="consequence-outcome">
                K·∫øt qu·∫£...
              </p>
            </div>
            <div
              class="flex items-center justify-center gap-2 text-primary font-bold"
            >
              <span class="material-symbols-outlined">trending_up</span>
              <span id="consequence-score">+3 ƒêi·ªÉm</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Result Screen -->
      <div id="result-screen" class="hidden">
        <div class="text-center mb-8">
          <div
            class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full mb-6 animate-bounce-slow"
          >
            <span class="material-symbols-outlined text-white text-5xl"
              >emoji_events</span
            >
          </div>
          <h1
            class="text-4xl md:text-5xl font-serif font-bold text-slate-900 dark:text-white mb-4"
          >
            K·∫øt qu·∫£ c·ªßa
            <span class="text-primary" id="result-player-name">b·∫°n</span>
          </h1>
        </div>

        <div class="grid md:grid-cols-3 gap-8 mb-8">
          <!-- Main Result -->
          <div
            class="md:col-span-2 bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700"
          >
            <div class="text-center mb-8">
              <h2
                class="text-3xl font-bold text-primary mb-2"
                id="result-title"
              >
                Ch·ªß nghƒ©a...
              </h2>
              <p
                class="text-slate-600 dark:text-gray-400 italic"
                id="result-subtitle"
              >
                Ph·ª• ƒë·ªÅ
              </p>
            </div>
            <p
              class="text-slate-700 dark:text-gray-300 leading-relaxed mb-8"
              id="result-description"
            >
              M√¥ t·∫£...
            </p>

            <div class="flex gap-4">
              <button
                onclick="restartGame()"
                class="flex-1 px-6 py-3 bg-slate-800 hover:bg-slate-900 text-white font-bold rounded-xl"
              >
                <span class="flex items-center justify-center gap-2">
                  <span class="material-symbols-outlined">refresh</span>
                  Ch∆°i l·∫°i
                </span>
              </button>
              <button
                onclick="shareResult()"
                class="flex-1 px-6 py-3 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl"
              >
                <span class="flex items-center justify-center gap-2">
                  <span class="material-symbols-outlined">share</span>
                  Chia s·∫ª
                </span>
              </button>
            </div>
          </div>

          <!-- Achievements Sidebar -->
          <div class="md:col-span-1">
            <div
              class="bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-gray-100 dark:border-gray-700"
            >
              <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-yellow-500"
                  >emoji_events</span
                >
                Th√†nh t√≠ch
              </h3>
              <div id="achievements-list" class="space-y-3"></div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Achievement Notification -->
    <div
      id="achievement-notification"
      class="hidden fixed top-4 right-4 z-50 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4 max-w-sm notification"
    >
      <div class="flex items-center gap-3">
        <div class="text-4xl" id="notif-icon">üèÜ</div>
        <div>
          <div class="font-bold text-sm">Th√†nh t√≠ch m·ªõi!</div>
          <div
            class="text-xs text-slate-600 dark:text-gray-400"
            id="notif-text"
          >
            B·∫°n ƒë√£ m·ªü kh√≥a...
          </div>
        </div>
      </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="js/load-components.js"></script>
    <script>
      // Game State
      let playerName = "";
      let playerAvatar = "üòä";
      let currentScenario = 0;
      let scores = {
        deontology: 0,
        consequentialism: 0,
        virtue: 0,
        care: 0,
        egoism: 0,
      };
      let chart = null;
      let gameHistory = [];
      let achievements = {
        first_game: { name: "B∆∞·ªõc ƒë·∫ßu ti√™n", icon: "üéØ", unlocked: false },
        all_philosophies: {
          name: "Nh√† tri·∫øt h·ªçc to√†n di·ªán",
          icon: "üéì",
          unlocked: false,
          progress: 0,
          total: 5,
        },
        the_consistent: { name: "Ki√™n ƒë·ªãnh", icon: "üíé", unlocked: false },
        balanced_sage: {
          name: "Hi·ªÅn nh√¢n c√¢n b·∫±ng",
          icon: "‚òØÔ∏è",
          unlocked: false,
        },
      };

      // Load achievements from localStorage
      const savedAchievements = localStorage.getItem("philosophyAchievements");
      if (savedAchievements) {
        achievements = JSON.parse(savedAchievements);
      }

      // Avatar selection
      document.querySelectorAll(".avatar-option").forEach((option) => {
        option.addEventListener("click", function () {
          document
            .querySelectorAll(".avatar-option")
            .forEach((o) => o.classList.remove("border-primary", "bg-blue-50"));
          this.classList.add("border-primary", "bg-blue-50");
          playerAvatar = this.dataset.avatar;
        });
      });

      // Initialize Chart
      function initChart() {
        const ctx = document.getElementById("philosophyChart").getContext("2d");
        chart = new Chart(ctx, {
          type: "radar",
          data: {
            labels: ["Nghƒ©a v·ª•", "H·∫≠u qu·∫£", "ƒê·ª©c h·∫°nh", "Quan t√¢m", "V·ªã k·ª∑"],
            datasets: [
              {
                label: "ƒêi·ªÉm s·ªë",
                data: [0, 0, 0, 0, 0],
                backgroundColor: "rgba(48, 140, 232, 0.2)",
                borderColor: "rgba(48, 140, 232, 1)",
                pointBackgroundColor: "rgba(48, 140, 232, 1)",
                pointBorderColor: "#fff",
                pointHoverBackgroundColor: "#fff",
                pointHoverBorderColor: "rgba(48, 140, 232, 1)",
              },
            ],
          },
          options: {
            scales: {
              r: {
                beginAtZero: true,
                max: 15,
                ticks: { stepSize: 5 },
              },
            },
            plugins: {
              legend: { display: false },
            },
          },
        });
      }

      function updateChart() {
        chart.data.datasets[0].data = [
          scores.deontology,
          scores.consequentialism,
          scores.virtue,
          scores.care,
          scores.egoism,
        ];
        chart.update("active");
      }

      // 10 SCENARIOS - Diverse situations
      const gameData = {
        scenarios: [
          {
            id: 1,
            icon: "school",
            title: "B√†i thi cu·ªëi k·ª≥",
            description:
              "B·∫°n ƒëang l√†m b√†i thi cu·ªëi k·ª≥ quan tr·ªçng. B·∫°n b√® ng·ªìi c·∫°nh nh·ªù b·∫°n cho xem b√†i v√¨ h·ªç s·∫Øp tr∆∞·ª£t m√¥n.",
            choices: [
              {
                text: "T·ª´ ch·ªëi v√¨ quy t·∫Øc l√† quy t·∫Øc",
                scores: { deontology: 3, virtue: 1 },
                consequence: {
                  icon: "üíî",
                  title: "B·∫°n b√® th·∫•t v·ªçng",
                  dialogue: "M√¨nh t∆∞·ªüng b·∫°n s·∫Ω gi√∫p m√¨nh...",
                  outcome:
                    "Nh∆∞ng b·∫°n gi·ªØ ƒë∆∞·ª£c nguy√™n t·∫Øc v√† l∆∞∆°ng t√¢m trong s·∫°ch",
                },
              },
              {
                text: "Gi√∫p b·∫°n v√¨ t√¨nh b·∫°n quan tr·ªçng h∆°n",
                scores: { care: 3, consequentialism: 1 },
                consequence: {
                  icon: "‚ù§Ô∏è",
                  title: "B·∫°n b√® bi·∫øt ∆°n",
                  dialogue: "C·∫£m ∆°n b·∫°n nhi·ªÅu!",
                  outcome: "T√¨nh b·∫°n ƒë∆∞·ª£c c·ªßng c·ªë nh∆∞ng b·∫°n vi ph·∫°m quy t·∫Øc",
                },
              },
              {
                text: "C√¢n nh·∫Øc h·∫≠u qu·∫£ r·ªìi quy·∫øt ƒë·ªãnh",
                scores: { consequentialism: 3 },
                consequence: {
                  icon: "ü§î",
                  title: "Quy·∫øt ƒë·ªãnh th·∫≠n tr·ªçng",
                  dialogue: "ƒê·ªÉ m√¨nh suy nghƒ©...",
                  outcome: "B·∫°n ƒë√°nh gi√° r·ªßi ro tr∆∞·ªõc khi h√†nh ƒë·ªông",
                },
              },
              {
                text: "H·ª©a s·∫Ω d·∫°y sau khi thi xong",
                scores: { virtue: 3, care: 1 },
                consequence: {
                  icon: "ü§ù",
                  title: "Gi·∫£i ph√°p c√¢n b·∫±ng",
                  dialogue: "ƒê∆∞·ª£c, m√¨nh s·∫Ω c·ªë g·∫Øng!",
                  outcome: "B·∫°n t√¨m ƒë∆∞·ª£c c√°ch gi√∫p ƒë·ª° m√† kh√¥ng vi ph·∫°m",
                },
              },
            ],
          },
          {
            id: 2,
            icon: "family_restroom",
            title: "B·ªØa t·ªëi gia ƒë√¨nh",
            description:
              "B·ªë m·∫π tranh c√£i v·ªÅ vi·ªác anh/ch·ªã b·∫°n mu·ªën b·ªè h·ªçc ƒë·ªÉ theo ƒëu·ªïi ƒëam m√™ ngh·ªá thu·∫≠t. H·ªç h·ªèi √Ω ki·∫øn b·∫°n.",
            choices: [
              {
                text: "·ª¶ng h·ªô anh/ch·ªã theo ƒëu·ªïi ƒëam m√™",
                scores: { care: 3, virtue: 1 },
                consequence: {
                  icon: "üé®",
                  title: "Anh/ch·ªã c·∫£m k√≠ch",
                  dialogue: "C·∫£m ∆°n em ƒë√£ hi·ªÉu!",
                  outcome: "B·∫°n ·ªßng h·ªô quy·ªÅn t·ª± do l·ª±a ch·ªçn",
                },
              },
              {
                text: "Khuy√™n n√™n h·ªçc xong ƒë√£",
                scores: { consequentialism: 3 },
                consequence: {
                  icon: "üìö",
                  title: "B·ªë m·∫π ƒë·ªìng √Ω",
                  dialogue: "ƒê√∫ng r·ªìi, ph·∫£i c√≥ b·∫±ng c·∫•p!",
                  outcome: "B·∫°n ∆∞u ti√™n s·ª± an to√†n trong t∆∞∆°ng lai",
                },
              },
              {
                text: "Gi·ªØ trung l·∫≠p, ƒë·ªÉ h·ªç t·ª± quy·∫øt ƒë·ªãnh",
                scores: { virtue: 2, deontology: 1 },
                consequence: {
                  icon: "‚öñÔ∏è",
                  title: "T√¥n tr·ªçng quy·ªÅn t·ª± quy·∫øt",
                  dialogue: "M·ªói ng∆∞·ªùi c√≥ quy·ªÅn ch·ªçn...",
                  outcome: "B·∫°n kh√¥ng mu·ªën √°p ƒë·∫∑t quan ƒëi·ªÉm",
                },
              },
              {
                text: "ƒê·ªÅ xu·∫•t th·ª≠ nghi·ªám 1 nƒÉm tr∆∞·ªõc khi quy·∫øt ƒë·ªãnh",
                scores: { consequentialism: 2, virtue: 2 },
                consequence: {
                  icon: "üî¨",
                  title: "Gi·∫£i ph√°p th·ª±c t·∫ø",
                  dialogue: "√ù t∆∞·ªüng hay ƒë·∫•y!",
                  outcome: "B·∫°n t√¨m c√°ch c√¢n b·∫±ng gi·ªØa ƒëam m√™ v√† th·ª±c t·∫ø",
                },
              },
            ],
          },
          {
            id: 3,
            icon: "shopping_cart",
            title: "Ti·ªÅn th·ª´a ·ªü si√™u th·ªã",
            description:
              "Thu ng√¢n t√≠nh nh·∫ßm v√† tr·∫£ l·∫°i b·∫°n th·ª´a 200.000ƒë. B·∫°n m·ªõi ph√°t hi·ªán khi v·ªÅ ƒë·∫øn nh√†.",
            choices: [
              {
                text: "Quay l·∫°i tr·∫£ ti·ªÅn ngay",
                scores: { deontology: 3, virtue: 1 },
                consequence: {
                  icon: "‚ú®",
                  title: "L∆∞∆°ng t√¢m thanh th·∫£n",
                  dialogue: "C·∫£m ∆°n b·∫°n r·∫•t nhi·ªÅu!",
                  outcome: "B·∫°n l√†m ƒëi·ªÅu ƒë√∫ng d√π t·ªën c√¥ng",
                },
              },
              {
                text: "Gi·ªØ l·∫°i v√¨ ƒë√≥ l√† l·ªói c·ªßa h·ªç",
                scores: { egoism: 3 },
                consequence: {
                  icon: "üí∞",
                  title: "L·ª£i √≠ch c√° nh√¢n",
                  dialogue: "H·ªç kh√¥ng ƒë·ªÉ √Ω th√¨ th√¥i...",
                  outcome: "B·∫°n ∆∞u ti√™n l·ª£i √≠ch b·∫£n th√¢n",
                },
              },
              {
                text: "G·ªçi ƒëi·ªán h·ªèi xem h·ªç c√≥ ph√°t hi·ªán kh√¥ng",
                scores: { consequentialism: 2, virtue: 1 },
                consequence: {
                  icon: "üìû",
                  title: "ThƒÉm d√≤ t√¨nh h√¨nh",
                  dialogue: "ƒê·ªÉ xem h·ªç n√≥i g√¨...",
                  outcome: "B·∫°n mu·ªën bi·∫øt h·∫≠u qu·∫£ tr∆∞·ªõc khi quy·∫øt ƒë·ªãnh",
                },
              },
              {
                text: "D√πng s·ªë ti·ªÅn ƒë√≥ l√†m t·ª´ thi·ªán",
                scores: { care: 3, virtue: 1 },
                consequence: {
                  icon: "ü§≤",
                  title: "Bi·∫øn l·ªói th√†nh ƒëi·ªÅu t·ªët",
                  dialogue: "√çt ra c≈©ng gi√∫p ƒë∆∞·ª£c ng∆∞·ªùi kh√°c",
                  outcome: "B·∫°n t√¨m c√°ch t·∫°o ra gi√° tr·ªã t√≠ch c·ª±c",
                },
              },
            ],
          },
          {
            id: 4,
            icon: "work",
            title: "C∆° h·ªôi thƒÉng ti·∫øn",
            description:
              "B·∫°n v√† ƒë·ªìng nghi·ªáp th√¢n c√πng ·ª©ng tuy·ªÉn v·ªã tr√≠ qu·∫£n l√Ω. B·∫°n bi·∫øt th√¥ng tin n·ªôi b·ªô c√≥ th·ªÉ gi√∫p b·∫°n th·∫Øng.",
            choices: [
              {
                text: "C·∫°nh tranh c√¥ng b·∫±ng, kh√¥ng d√πng th√¥ng tin ƒë√≥",
                scores: { deontology: 3, virtue: 2 },
                consequence: {
                  icon: "ü§ù",
                  title: "Thi ƒë·∫•u c√¥ng b·∫±ng",
                  dialogue: "Ai gi·ªèi h∆°n s·∫Ω th·∫Øng!",
                  outcome: "B·∫°n gi·ªØ v·ªØng nguy√™n t·∫Øc c√¥ng b·∫±ng",
                },
              },
              {
                text: "S·ª≠ d·ª•ng m·ªçi l·ª£i th·∫ø ƒë·ªÉ th·∫Øng",
                scores: { egoism: 3, consequentialism: 1 },
                consequence: {
                  icon: "üèÜ",
                  title: "Chi·∫øn th·∫Øng l√† quan tr·ªçng nh·∫•t",
                  dialogue: "Trong c√¥ng vi·ªác, ai c≈©ng v√¨ m√¨nh",
                  outcome: "B·∫°n ∆∞u ti√™n s·ª± nghi·ªáp c√° nh√¢n",
                },
              },
              {
                text: "Chia s·∫ª th√¥ng tin v·ªõi ƒë·ªìng nghi·ªáp",
                scores: { care: 3, virtue: 1 },
                consequence: {
                  icon: "üíù",
                  title: "T√¨nh b·∫°n tr√™n h·∫øt",
                  dialogue: "C·∫£m ∆°n b·∫°n ƒë√£ chia s·∫ª!",
                  outcome: "B·∫°n coi tr·ªçng m·ªëi quan h·ªá h∆°n l·ª£i √≠ch",
                },
              },
              {
                text: "R√∫t lui ƒë·ªÉ tr√°nh xung ƒë·ªôt",
                scores: { virtue: 2, care: 2 },
                consequence: {
                  icon: "üïäÔ∏è",
                  title: "H√≤a b√¨nh n·ªôi t√¢m",
                  dialogue: "C√≤n nhi·ªÅu c∆° h·ªôi kh√°c...",
                  outcome: "B·∫°n ch·ªçn s·ª± h√†i h√≤a thay v√¨ c·∫°nh tranh",
                },
              },
            ],
          },
          {
            id: 5,
            icon: "pets",
            title: "Ch√≥ l·∫°c tr√™n ƒë∆∞·ªùng",
            description:
              "B·∫°n th·∫•y m·ªôt ch√∫ ch√≥ b·ªã th∆∞∆°ng n·∫±m b√™n ƒë∆∞·ªùng. B·∫°n ƒëang v·ªôi ƒëi l√†m v√† s·∫Øp tr·ªÖ cu·ªôc h·ªçp quan tr·ªçng.",
            choices: [
              {
                text: "D·ª´ng l·∫°i ƒë∆∞a ch√≥ ƒëi b√°c sƒ© th√∫ y",
                scores: { care: 3, virtue: 1 },
                consequence: {
                  icon: "üêï",
                  title: "C·ª©u m·ªôt sinh m·∫°ng",
                  dialogue: "Ch√∫ ch√≥ s·∫Ω ·ªïn th√¥i!",
                  outcome: "B·∫°n ∆∞u ti√™n l√≤ng nh√¢n √°i d√π b·ªã tr·ªÖ",
                },
              },
              {
                text: "Ti·∫øp t·ª•c ƒëi v√¨ c√¥ng vi·ªác quan tr·ªçng h∆°n",
                scores: { egoism: 2, consequentialism: 2 },
                consequence: {
                  icon: "üíº",
                  title: "∆Øu ti√™n tr√°ch nhi·ªám",
                  dialogue: "C√¥ng vi·ªác kh√¥ng th·ªÉ tr·ªÖ...",
                  outcome: "B·∫°n ch·ªçn nghƒ©a v·ª• c√¥ng vi·ªác",
                },
              },
              {
                text: "G·ªçi t·ªï ch·ª©c c·ª©u h·ªô ƒë·ªông v·∫≠t",
                scores: { consequentialism: 2, virtue: 2 },
                consequence: {
                  icon: "üì±",
                  title: "Gi·∫£i ph√°p th√¥ng minh",
                  dialogue: "H·ªç s·∫Ω x·ª≠ l√Ω chuy√™n nghi·ªáp h∆°n",
                  outcome: "B·∫°n t√¨m c√°ch gi√∫p m√† kh√¥ng ·∫£nh h∆∞·ªüng c√¥ng vi·ªác",
                },
              },
              {
                text: "Ch·ª•p ·∫£nh ƒëƒÉng m·∫°ng x√£ h·ªôi k√™u g·ªçi gi√∫p ƒë·ª°",
                scores: { consequentialism: 3 },
                consequence: {
                  icon: "üì∏",
                  title: "Huy ƒë·ªông c·ªông ƒë·ªìng",
                  dialogue: "Nhi·ªÅu ng∆∞·ªùi s·∫Ω th·∫•y v√† gi√∫p!",
                  outcome: "B·∫°n t·∫≠n d·ª•ng m·∫°ng x√£ h·ªôi ƒë·ªÉ t·∫°o t√°c ƒë·ªông l·ªõn h∆°n",
                },
              },
            ],
          },
          {
            id: 6,
            icon: "restaurant",
            title: "Nh√† h√†ng qu√° t·∫£i",
            description:
              "B·∫°n ƒë·∫∑t b√†n tr∆∞·ªõc nh∆∞ng nh√† h√†ng l·∫°i cho kh√°ch VIP ng·ªìi. H·ªç xin l·ªói v√† ƒë·ªÅ ngh·ªã b·ªìi th∆∞·ªùng 50% h√≥a ƒë∆°n.",
            choices: [
              {
                text: "T·ª´ ch·ªëi v√† y√™u c·∫ßu b√†n ƒë√£ ƒë·∫∑t",
                scores: { deontology: 3 },
                consequence: {
                  icon: "‚öñÔ∏è",
                  title: "ƒê√≤i quy·ªÅn l·ª£i ch√≠nh ƒë√°ng",
                  dialogue: "T√¥i ƒë√£ ƒë·∫∑t tr∆∞·ªõc!",
                  outcome: "B·∫°n ki√™n quy·∫øt v·ªõi nguy√™n t·∫Øc c√¥ng b·∫±ng",
                },
              },
              {
                text: "Ch·∫•p nh·∫≠n v√¨ ƒë∆∞·ª£c gi·∫£m gi√°",
                scores: { egoism: 2, consequentialism: 2 },
                consequence: {
                  icon: "üí∞",
                  title: "L·ª£i √≠ch th·ª±c t·∫ø",
                  dialogue: "ƒê∆∞·ª£c gi·∫£m gi√° c≈©ng t·ªët!",
                  outcome: "B·∫°n ch·ªçn l·ª£i √≠ch h·ªØu h√¨nh",
                },
              },
              {
                text: "Th√¥ng c·∫£m v√† ch·∫•p nh·∫≠n ƒë·ª£i",
                scores: { care: 2, virtue: 2 },
                consequence: {
                  icon: "üòå",
                  title: "Bao dung v√† ki√™n nh·∫´n",
                  dialogue: "Kh√¥ng sao, m√¨nh ƒë·ª£i ƒë∆∞·ª£c",
                  outcome: "B·∫°n th·ªÉ hi·ªán s·ª± th·∫•u hi·ªÉu",
                },
              },
              {
                text: "Vi·∫øt review ti√™u c·ª±c ƒë·ªÉ c·∫£nh b√°o ng∆∞·ªùi kh√°c",
                scores: { consequentialism: 3 },
                consequence: {
                  icon: "üìù",
                  title: "B·∫£o v·ªá quy·ªÅn l·ª£i c·ªông ƒë·ªìng",
                  dialogue: "Ng∆∞·ªùi kh√°c c·∫ßn bi·∫øt!",
                  outcome: "B·∫°n mu·ªën ngƒÉn ch·∫∑n t√¨nh tr·∫°ng n√†y l·∫∑p l·∫°i",
                },
              },
            ],
          },
          {
            id: 7,
            icon: "volunteer_activism",
            title: "Ng∆∞·ªùi ƒÉn xin",
            description:
              "M·ªôt ng∆∞·ªùi ƒÉn xin xin ti·ªÅn. B·∫°n b√® n√≥i h·ªç l√† k·∫ª l·ª´a ƒë·∫£o chuy√™n nghi·ªáp, nh∆∞ng b·∫°n kh√¥ng ch·∫Øc.",
            choices: [
              {
                text: "Cho ti·ªÅn v√¨ c√≥ th·ªÉ h·ªç th·ª±c s·ª± c·∫ßn",
                scores: { care: 3 },
                consequence: {
                  icon: "ü§≤",
                  title: "L√≤ng nh√¢n √°i",
                  dialogue: "C·∫£m ∆°n b·∫°n!",
                  outcome: "B·∫°n ch·ªçn tin t∆∞·ªüng v√† gi√∫p ƒë·ª°",
                },
              },
              {
                text: "Kh√¥ng cho v√¨ s·ª£ b·ªã l·ª´a",
                scores: { egoism: 2, consequentialism: 1 },
                consequence: {
                  icon: "üö´",
                  title: "Th·∫≠n tr·ªçng",
                  dialogue: "Kh√¥ng th·ªÉ tin ai c·∫£...",
                  outcome: "B·∫°n b·∫£o v·ªá t√†i s·∫£n c·ªßa m√¨nh",
                },
              },
              {
                text: "Mua ƒë·ªì ƒÉn thay v√¨ cho ti·ªÅn",
                scores: { consequentialism: 3, care: 1 },
                consequence: {
                  icon: "üçû",
                  title: "Gi√∫p ƒë·ª° th·ª±c ch·∫•t",
                  dialogue: "√çt ra h·ªç c√≥ ƒë·ªì ƒÉn",
                  outcome: "B·∫°n ƒë·∫£m b·∫£o s·ª± gi√∫p ƒë·ª° ƒë∆∞·ª£c d√πng ƒë√∫ng m·ª•c ƒë√≠ch",
                },
              },
              {
                text: "Gi·ªõi thi·ªáu h·ªç ƒë·∫øn trung t√¢m c·ª©u tr·ª£",
                scores: { virtue: 3, consequentialism: 1 },
                consequence: {
                  icon: "üè•",
                  title: "Gi·∫£i ph√°p b·ªÅn v·ªØng",
                  dialogue: "·ªû ƒë√≥ h·ªç s·∫Ω ƒë∆∞·ª£c gi√∫p l√¢u d√†i",
                  outcome: "B·∫°n h∆∞·ªõng ƒë·∫øn gi·∫£i ph√°p cƒÉn b·∫£n",
                },
              },
            ],
          },
          {
            id: 8,
            icon: "groups",
            title: "B√≠ m·∫≠t c·ªßa b·∫°n",
            description:
              "B·∫°n th√¢n t√¢m s·ª± b√≠ m·∫≠t ri√™ng t∆∞. Sau ƒë√≥ b·∫°n ph√°t hi·ªán b√≠ m·∫≠t ƒë√≥ ·∫£nh h∆∞·ªüng ƒë·∫øn ng∆∞·ªùi kh√°c trong nh√≥m.",
            choices: [
              {
                text: "Gi·ªØ b√≠ m·∫≠t v√¨ ƒë√£ h·ª©a",
                scores: { deontology: 3, virtue: 1 },
                consequence: {
                  icon: "ü§ê",
                  title: "Gi·ªØ l·ªùi h·ª©a",
                  dialogue: "L·ªùi h·ª©a l√† l·ªùi h·ª©a",
                  outcome: "B·∫°n trung th√†nh v·ªõi cam k·∫øt",
                },
              },
              {
                text: "Ti·∫øt l·ªô v√¨ ng∆∞·ªùi kh√°c c·∫ßn bi·∫øt",
                scores: { consequentialism: 3, care: 1 },
                consequence: {
                  icon: "üí¨",
                  title: "B·∫£o v·ªá ng∆∞·ªùi kh√°c",
                  dialogue: "H·ªç c√≥ quy·ªÅn bi·∫øt s·ª± th·∫≠t",
                  outcome: "B·∫°n ∆∞u ti√™n l·ª£i √≠ch t·∫≠p th·ªÉ",
                },
              },
              {
                text: "Thuy·∫øt ph·ª•c b·∫°n t·ª± ti·∫øt l·ªô",
                scores: { virtue: 3, care: 1 },
                consequence: {
                  icon: "üó£Ô∏è",
                  title: "Khuy·∫øn kh√≠ch trung th·ª±c",
                  dialogue: "B·∫°n n√™n t·ª± n√≥i ra...",
                  outcome: "B·∫°n t√¨m c√°ch gi·∫£i quy·∫øt m√† kh√¥ng ph√° v·ª° l·ªùi h·ª©a",
                },
              },
              {
                text: "Kh√¥ng l√†m g√¨, ƒë·ªÉ m·ªçi chuy·ªán t·ª± nhi√™n",
                scores: { egoism: 2, virtue: 1 },
                consequence: {
                  icon: "ü§∑",
                  title: "Tr√°nh r·∫Øc r·ªëi",
                  dialogue: "Kh√¥ng ph·∫£i vi·ªác c·ªßa m√¨nh...",
                  outcome: "B·∫°n ch·ªçn kh√¥ng can thi·ªáp",
                },
              },
            ],
          },
          {
            id: 9,
            icon: "local_hospital",
            title: "Thu·ªëc khan hi·∫øm",
            description:
              "B·∫°n t√¨m ƒë∆∞·ª£c l·ªç thu·ªëc cu·ªëi c√πng cho ng∆∞·ªùi th√¢n. Nh∆∞ng m·ªôt ng∆∞·ªùi l·∫° c≈©ng c·∫ßn g·∫•p cho con nh·ªè c·ªßa h·ªç.",
            choices: [
              {
                text: "Gi·ªØ l·∫°i cho ng∆∞·ªùi th√¢n c·ªßa m√¨nh",
                scores: { care: 3, egoism: 1 },
                consequence: {
                  icon: "‚ù§Ô∏è",
                  title: "Gia ƒë√¨nh tr√™n h·∫øt",
                  dialogue: "Ng∆∞·ªùi th√¢n m√¨nh quan tr·ªçng nh·∫•t",
                  outcome: "B·∫°n ∆∞u ti√™n ng∆∞·ªùi th√¢n y√™u",
                },
              },
              {
                text: "Nh∆∞·ªùng l·∫°i v√¨ tr·∫ª em c·∫ßn h∆°n",
                scores: { consequentialism: 3, virtue: 1 },
                consequence: {
                  icon: "üë∂",
                  title: "Tr·∫ª em ∆∞u ti√™n",
                  dialogue: "C·∫£m ∆°n b·∫°n r·∫•t nhi·ªÅu!",
                  outcome: "B·∫°n ch·ªçn ng∆∞·ªùi c·∫ßn h∆°n",
                },
              },
              {
                text: "Chia ƒë√¥i l·ªç thu·ªëc",
                scores: { virtue: 3, care: 1 },
                consequence: {
                  icon: "‚öñÔ∏è",
                  title: "C√¥ng b·∫±ng tuy·ªát ƒë·ªëi",
                  dialogue: "C·∫£ hai ƒë·ªÅu ƒë∆∞·ª£c gi√∫p",
                  outcome: "B·∫°n t√¨m c√°ch c√¢n b·∫±ng",
                },
              },
              {
                text: "ƒê·ªÅ ngh·ªã h·ªç mua l·∫°i v·ªõi gi√° cao h∆°n",
                scores: { egoism: 3 },
                consequence: {
                  icon: "üíµ",
                  title: "C∆° ch·∫ø th·ªã tr∆∞·ªùng",
                  dialogue: "Ai tr·∫£ cao h∆°n s·∫Ω ƒë∆∞·ª£c",
                  outcome: "B·∫°n √°p d·ª•ng nguy√™n t·∫Øc cung c·∫ßu",
                },
              },
            ],
          },
          {
            id: 10,
            icon: "gavel",
            title: "Ch·ª©ng ki·∫øn vi ph·∫°m",
            description:
              "B·∫°n th·∫•y s·∫øp vi ph·∫°m quy ƒë·ªãnh an to√†n lao ƒë·ªông ƒë·ªÉ tƒÉng nƒÉng su·∫•t. T·ªë c√°o c√≥ th·ªÉ khi·∫øn b·∫°n m·∫•t vi·ªác.",
            choices: [
              {
                text: "T·ªë c√°o v√¨ an to√†n l√† tr√™n h·∫øt",
                scores: { deontology: 3, virtue: 1 },
                consequence: {
                  icon: "üö®",
                  title: "L√†m ƒëi·ªÅu ƒë√∫ng",
                  dialogue: "An to√†n kh√¥ng th·ªÉ th·ªèa hi·ªáp",
                  outcome: "B·∫°n ch·ªçn nguy√™n t·∫Øc d√π c√≥ r·ªßi ro",
                },
              },
              {
                text: "Im l·∫∑ng ƒë·ªÉ gi·ªØ c√¥ng vi·ªác",
                scores: { egoism: 3 },
                consequence: {
                  icon: "ü§´",
                  title: "T·ª± b·∫£o v·ªá b·∫£n th√¢n",
                  dialogue: "M√¨nh c·∫ßn c√¥ng vi·ªác n√†y...",
                  outcome: "B·∫°n ∆∞u ti√™n an to√†n c√° nh√¢n",
                },
              },
              {
                text: "Nh·∫Øc nh·ªü s·∫øp ri√™ng t∆∞",
                scores: { virtue: 3, care: 1 },
                consequence: {
                  icon: "üí¨",
                  title: "Gi·∫£i quy·∫øt n·ªôi b·ªô",
                  dialogue: "ƒê·ªÉ m√¨nh s·ª≠a ch·ªØa...",
                  outcome: "B·∫°n t√¨m c√°ch kh·∫Øc ph·ª•c m√† kh√¥ng g√¢y xung ƒë·ªôt",
                },
              },
              {
                text: "T·ªë c√°o ·∫©n danh",
                scores: { consequentialism: 3, deontology: 1 },
                consequence: {
                  icon: "üìß",
                  title: "B·∫£o v·ªá c·∫£ hai b√™n",
                  dialogue: "V·∫•n ƒë·ªÅ ƒë∆∞·ª£c gi·∫£i quy·∫øt m√† m√¨nh an to√†n",
                  outcome: "B·∫°n c√¢n b·∫±ng gi·ªØa ƒë√∫ng v√† an to√†n",
                },
              },
            ],
          },
        ],
        philosophies: {
          deontology: {
            name: "Ch·ªß nghƒ©a Nghƒ©a v·ª• lu·∫≠n",
            subtitle: "Nguy√™n t·∫Øc l√† kim ch·ªâ nam",
            description:
              "B·∫°n tin r·∫±ng c√≥ nh·ªØng nguy√™n t·∫Øc ƒë·∫°o ƒë·ª©c ph·ªï qu√°t m√† m·ªçi ng∆∞·ªùi ph·∫£i tu√¢n theo, b·∫•t k·ªÉ h·∫≠u qu·∫£. ƒê·ªëi v·ªõi b·∫°n, l√†m ƒëi·ªÅu ƒë√∫ng quan tr·ªçng h∆°n k·∫øt qu·∫£. B·∫°n coi tr·ªçng l·ªùi h·ª©a, tr√°ch nhi·ªám v√† quy t·∫Øc.",
          },
          consequentialism: {
            name: "Ch·ªß nghƒ©a H·∫≠u qu·∫£ lu·∫≠n",
            subtitle: "K·∫øt qu·∫£ quy·∫øt ƒë·ªãnh ƒë√∫ng sai",
            description:
              "B·∫°n ƒë√°nh gi√° h√†nh ƒë·ªông d·ª±a tr√™n h·∫≠u qu·∫£ c·ªßa n√≥. M·ªôt h√†nh ƒë·ªông l√† ƒë√∫ng n·∫øu n√≥ mang l·∫°i k·∫øt qu·∫£ t·ªët nh·∫•t cho s·ªë ƒë√¥ng. B·∫°n linh ho·∫°t, th·ª±c d·ª•ng v√† lu√¥n c√¢n nh·∫Øc t√°c ƒë·ªông d√†i h·∫°n c·ªßa quy·∫øt ƒë·ªãnh.",
          },
          virtue: {
            name: "Ch·ªß nghƒ©a ƒê·ª©c h·∫°nh",
            subtitle: "Ph·∫©m ch·∫•t t·∫°o n√™n con ng∆∞·ªùi",
            description:
              "B·∫°n t·∫≠p trung v√†o vi·ªác ph√°t tri·ªÉn ph·∫©m ch·∫•t t·ªët ƒë·∫πp nh∆∞ trung th·ª±c, d≈©ng c·∫£m, kh√¥n ngoan. ƒê·ªëi v·ªõi b·∫°n, l√†m ng∆∞·ªùi t·ªët quan tr·ªçng h∆°n l√†m vi·ªác t·ªët. B·∫°n tin r·∫±ng ƒë·ª©c h·∫°nh s·∫Ω d·∫´n ƒë·∫øn h·∫°nh ph√∫c th·ª±c s·ª±.",
          },
          care: {
            name: "ƒê·∫°o ƒë·ª©c Quan t√¢m",
            subtitle: "M·ªëi quan h·ªá l√† trung t√¢m",
            description:
              "B·∫°n coi tr·ªçng m·ªëi quan h·ªá, s·ª± ƒë·ªìng c·∫£m v√† tr√°ch nhi·ªám v·ªõi ng∆∞·ªùi kh√°c. B·∫°n tin r·∫±ng ƒë·∫°o ƒë·ª©c ph√°t sinh t·ª´ vi·ªác quan t√¢m v√† chƒÉm s√≥c l·∫´n nhau. B·∫°n ∆∞u ti√™n t√¨nh c·∫£m v√† s·ª± k·∫øt n·ªëi con ng∆∞·ªùi.",
          },
          egoism: {
            name: "Ch·ªß nghƒ©a V·ªã k·ª∑ h·ª£p l√Ω",
            subtitle: "L·ª£i √≠ch b·∫£n th√¢n l√† ∆∞u ti√™n",
            description:
              "B·∫°n tin r·∫±ng m·ªói ng∆∞·ªùi n√™n theo ƒëu·ªïi l·ª£i √≠ch c·ªßa ch√≠nh m√¨nh m·ªôt c√°ch h·ª£p l√Ω. ƒêi·ªÅu n√†y kh√¥ng c√≥ nghƒ©a l√† √≠ch k·ª∑ m√π qu√°ng, m√† l√† hi·ªÉu r·∫±ng b·∫°n ph·∫£i chƒÉm s√≥c b·∫£n th√¢n tr∆∞·ªõc khi c√≥ th·ªÉ gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c.",
          },
        },
      };

      function startGame() {
        playerName =
          document.getElementById("player-name").value.trim() || "B·∫°n";
        document.getElementById("intro-screen").classList.add("hidden");
        document.getElementById("game-screen").classList.remove("hidden");
        initChart();
        loadScenario();
      }

      function loadScenario() {
        if (currentScenario >= gameData.scenarios.length) {
          showResult();
          return;
        }

        const scenario = gameData.scenarios[currentScenario];
        const progress =
          ((currentScenario + 1) / gameData.scenarios.length) * 100;

        document.getElementById("progress-bar").style.width = progress + "%";
        document.getElementById("progress-text").textContent =
          `${currentScenario + 1}/${gameData.scenarios.length}`;
        document.getElementById("scenario-icon").textContent = scenario.icon;
        document.getElementById("scenario-title").textContent = scenario.title;
        document.getElementById("scenario-description").textContent =
          scenario.description;

        const choicesContainer = document.getElementById("choices-container");
        choicesContainer.innerHTML = "";

        scenario.choices.forEach((choice, index) => {
          const choiceCard = document.createElement("button");
          choiceCard.className =
            "choice-card w-full text-left p-5 bg-gray-50 dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-blue-900/30 border-2 border-gray-200 dark:border-gray-600 hover:border-primary rounded-xl transition-all";
          choiceCard.innerHTML = `
                    <div class="flex items-start gap-4">
                        <div class="w-8 h-8 bg-white dark:bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-primary">
                            ${String.fromCharCode(65 + index)}
                        </div>
                        <p class="text-slate-700 dark:text-gray-200 font-medium leading-relaxed">${choice.text}</p>
                    </div>
                `;
          choiceCard.onclick = () => selectChoice(choice);
          choicesContainer.appendChild(choiceCard);
        });
      }

      function selectChoice(choice) {
        // Show consequence
        showConsequence(choice.consequence, choice.scores);

        // Update scores
        for (let key in choice.scores) {
          scores[key] += choice.scores[key];
        }

        // Save to history
        gameHistory.push({
          scenario: currentScenario,
          choice: choice.text,
          scores: { ...choice.scores },
        });

        setTimeout(() => {
          hideConsequence();
          updateChart();
          currentScenario++;
          setTimeout(() => loadScenario(), 300);
        }, 1000);
      }

      function showConsequence(consequence, choiceScores) {
        document.getElementById("consequence-icon").textContent =
          consequence.icon;
        document.getElementById("consequence-title").textContent =
          consequence.title;
        document.getElementById("consequence-dialogue").textContent =
          `"${consequence.dialogue}"`;
        document.getElementById("consequence-outcome").textContent =
          consequence.outcome;

        const maxScore = Math.max(...Object.values(choiceScores));
        const philosophyNames = {
          deontology: "Nghƒ©a v·ª• lu·∫≠n",
          consequentialism: "H·∫≠u qu·∫£ lu·∫≠n",
          virtue: "ƒê·ª©c h·∫°nh",
          care: "Quan t√¢m",
          egoism: "V·ªã k·ª∑",
        };
        const philosophy = Object.keys(choiceScores).find(
          (key) => choiceScores[key] === maxScore,
        );
        document.getElementById("consequence-score").textContent =
          `+${maxScore} ${philosophyNames[philosophy]}`;

        document
          .getElementById("consequence-screen")
          .classList.remove("hidden");
      }

      function hideConsequence() {
        document.getElementById("consequence-screen").classList.add("hidden");
      }

      function showResult() {
        let maxScore = 0;
        let dominantPhilosophy = "virtue";

        for (let key in scores) {
          if (scores[key] > maxScore) {
            maxScore = scores[key];
            dominantPhilosophy = key;
          }
        }

        const result = gameData.philosophies[dominantPhilosophy];

        document.getElementById("game-screen").classList.add("hidden");
        document.getElementById("result-screen").classList.remove("hidden");
        document.getElementById("result-player-name").textContent = playerName;
        document.getElementById("result-title").textContent = result.name;
        document.getElementById("result-subtitle").textContent =
          result.subtitle;
        document.getElementById("result-description").textContent =
          result.description;

        // Check achievements
        checkAchievements(dominantPhilosophy);
        displayAchievements();

        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function checkAchievements(philosophy) {
        // First game
        if (!achievements.first_game.unlocked) {
          achievements.first_game.unlocked = true;
          showAchievementNotification(achievements.first_game);
        }

        // Track unique philosophies
        const history = JSON.parse(
          localStorage.getItem("philosophyHistory") || "[]",
        );
        history.push(philosophy);
        const uniquePhilosophies = [...new Set(history)];
        localStorage.setItem("philosophyHistory", JSON.stringify(history));

        achievements.all_philosophies.progress = uniquePhilosophies.length;
        if (
          uniquePhilosophies.length >= 5 &&
          !achievements.all_philosophies.unlocked
        ) {
          achievements.all_philosophies.unlocked = true;
          showAchievementNotification(achievements.all_philosophies);
        }

        // Check balanced sage
        const scoreValues = Object.values(scores);
        const avg = scoreValues.reduce((a, b) => a + b, 0) / scoreValues.length;
        const isBalanced = scoreValues.every((s) => Math.abs(s - avg) <= 3);
        if (isBalanced && !achievements.balanced_sage.unlocked) {
          achievements.balanced_sage.unlocked = true;
          showAchievementNotification(achievements.balanced_sage);
        }

        // Save achievements
        localStorage.setItem(
          "philosophyAchievements",
          JSON.stringify(achievements),
        );
      }

      function showAchievementNotification(achievement) {
        document.getElementById("notif-icon").textContent = achievement.icon;
        document.getElementById("notif-text").textContent = achievement.name;
        const notif = document.getElementById("achievement-notification");
        notif.classList.remove("hidden");
        setTimeout(() => notif.classList.add("hidden"), 3000);
      }

      function displayAchievements() {
        const list = document.getElementById("achievements-list");
        list.innerHTML = "";

        for (let key in achievements) {
          const ach = achievements[key];
          const div = document.createElement("div");
          div.className = `achievement-badge ${ach.unlocked ? "unlocked" : ""} p-3 rounded-xl border ${ach.unlocked ? "border-yellow-300 bg-yellow-50 dark:bg-yellow-900/20" : "border-gray-200 bg-gray-50 dark:bg-gray-700"}`;
          div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="text-2xl">${ach.icon}</div>
                        <div class="flex-grow">
                            <div class="font-bold text-sm">${ach.name}</div>
                            ${ach.progress !== undefined ? `<div class="text-xs text-slate-500 dark:text-gray-400">${ach.progress}/${ach.total}</div>` : ""}
                        </div>
                        ${ach.unlocked ? '<span class="material-symbols-outlined text-yellow-500">check_circle</span>' : ""}
                    </div>
                `;
          list.appendChild(div);
        }
      }

      function restartGame() {
        location.reload();
      }

      function shareResult() {
        const resultTitle = document.getElementById("result-title").textContent;
        const text = `üéÆ T√¥i v·ª´a kh√°m ph√° th·∫ø gi·ªõi quan tri·∫øt h·ªçc!\n\nüìä K·∫øt qu·∫£: ${resultTitle}\n\nB·∫°n thu·ªôc tri·∫øt l√Ω n√†o? H√£y th·ª≠ ngay!`;

        if (navigator.share) {
          navigator.share({
            title: "Philosophy Game",
            text,
            url: window.location.href,
          });
        } else {
          navigator.clipboard
            .writeText(text + "\n" + window.location.href)
            .then(() => alert("ƒê√£ sao ch√©p!"));
        }
      }
    </script>
  </body>
</html>
